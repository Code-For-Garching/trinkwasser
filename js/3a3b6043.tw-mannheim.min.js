/*! trinkwasser-garching 16-08-2020 */

!function(){var L={version:"3.4.3"};Date.now||(Date.now=function(){return+new Date});var i=[].slice,s=function(t){return i.call(t)},r=document,o=r.documentElement,q=window;try{s(o.childNodes)[0].nodeType}catch(t){s=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{r.createElement("div").style.setProperty("opacity",0,"")}catch(t){var n=q.Element.prototype,e=n.setAttribute,a=n.setAttributeNS,u=q.CSSStyleDeclaration.prototype,f=u.setProperty;n.setAttribute=function(t,n){e.call(this,t,n+"")},n.setAttributeNS=function(t,n,e){a.call(this,t,n,e+"")},u.setProperty=function(t,n,e){f.call(this,t,n+"",e)}}function c(t){return null!=t&&!isNaN(t)}L.ascending=function(t,n){return t<n?-1:n<t?1:n<=t?0:NaN},L.descending=function(t,n){return n<t?-1:t<n?1:t<=n?0:NaN},L.min=function(t,n){var e,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&!(null!=(e=t[a])&&e<=e);)e=void 0;for(;++a<i;)null!=(r=t[a])&&r<e&&(e=r)}else{for(;++a<i&&!(null!=(e=n.call(t,t[a],a))&&e<=e);)e=void 0;for(;++a<i;)null!=(r=n.call(t,t[a],a))&&r<e&&(e=r)}return e},L.max=function(t,n){var e,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&!(null!=(e=t[a])&&e<=e);)e=void 0;for(;++a<i;)null!=(r=t[a])&&e<r&&(e=r)}else{for(;++a<i&&!(null!=(e=n.call(t,t[a],a))&&e<=e);)e=void 0;for(;++a<i;)null!=(r=n.call(t,t[a],a))&&e<r&&(e=r)}return e},L.extent=function(t,n){var e,r,a,i=-1,u=t.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=a=t[i])&&e<=e);)e=a=void 0;for(;++i<u;)null!=(r=t[i])&&(r<e&&(e=r),a<r&&(a=r))}else{for(;++i<u&&!(null!=(e=a=n.call(t,t[i],i))&&e<=e);)e=void 0;for(;++i<u;)null!=(r=n.call(t,t[i],i))&&(r<e&&(e=r),a<r&&(a=r))}return[e,a]},L.sum=function(t,n){var e,r=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)isNaN(e=+t[i])||(r+=e);else for(;++i<a;)isNaN(e=+n.call(t,t[i],i))||(r+=e);return r},L.mean=function(t,n){var e,r=t.length,a=0,i=-1,u=0;if(1===arguments.length)for(;++i<r;)c(e=t[i])&&(a+=(e-a)/++u);else for(;++i<r;)c(e=n.call(t,t[i],i))&&(a+=(e-a)/++u);return u?a:void 0},L.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),a=+t[r-1],i=e-r;return i?a+i*(t[r]-a):a},L.median=function(t,n){return 1<arguments.length&&(t=t.map(n)),(t=t.filter(c)).length?L.quantile(t.sort(L.ascending),.5):void 0},L.bisector=function(i){return{left:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var a=e+r>>>1;i.call(t,t[a],a)<n?e=1+a:r=a}return e},right:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var a=e+r>>>1;n<i.call(t,t[a],a)?r=a:e=1+a}return e}}};var t=L.bisector(function(t){return t});function l(t){return t.length}L.bisectLeft=t.left,L.bisect=L.bisectRight=t.right,L.shuffle=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t},L.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},L.pairs=function(t){for(var n=0,e=t.length-1,r=t[0],a=new Array(e<0?0:e);n<e;)a[n]=[r,r=t[++n]];return a},L.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=L.min(arguments,l),e=new Array(n);++t<n;)for(var r,a=-1,i=e[t]=new Array(r);++a<r;)i[a]=arguments[a][t];return e},L.transpose=function(t){return L.zip.apply(L,t)},L.keys=function(t){var n=[];for(var e in t)n.push(e);return n},L.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},L.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},L.merge=function(t){for(var n,e,r,a=t.length,i=-1,u=0;++i<a;)u+=t[i].length;for(e=new Array(u);0<=--a;)for(n=(r=t[a]).length;0<=--n;)e[--u]=r[n];return e};var T=Math.abs;function h(n,e){try{for(var t in e)Object.defineProperty(n.prototype,t,{value:e[t],enumerable:!1})}catch(t){n.prototype=e}}function m(){}L.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,a=[],i=function(t){var n=1;for(;t*n%1;)n*=10;return n}(T(e)),u=-1;if(t*=i,n*=i,(e*=i)<0)for(;(r=t+e*++u)>n;)a.push(r/i);else for(;(r=t+e*++u)<n;)a.push(r/i);return a},L.map=function(t){var e=new m;if(t instanceof m)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},h(m,{has:p,get:function(t){return this[d+t]},set:function(t,n){return this[d+t]=n},remove:function(t){return(t=d+t)in this&&delete this[t]},keys:b,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:v,empty:y,forEach:function(t){for(var n in this)n.charCodeAt(0)===g&&t.call(this,n.substring(1),this[n])}});var d="\0",g=d.charCodeAt(0);function p(t){return d+t in this}function b(){var n=[];return this.forEach(function(t){n.push(t)}),n}function v(){var t=0;for(var n in this)n.charCodeAt(0)===g&&++t;return t}function y(){for(var t in this)if(t.charCodeAt(0)===g)return!1;return!0}function x(){}function M(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.substring(1);for(var e=0,r=_.length;e<r;++e){var a=_[e]+n;if(a in t)return a}}L.nest=function(){var s,h,d={},g=[],n=[];function p(e,t,r){if(r>=g.length)return h?h.call(d,t):s?t.sort(s):t;for(var n,a,i,u,o=-1,f=t.length,c=g[r++],l=new m;++o<f;)(u=l.get(n=c(a=t[o])))?u.push(a):l.set(n,[a]);return i=e?(a=e(),function(t,n){a.set(t,p(e,n,r))}):(a={},function(t,n){a[t]=p(e,n,r)}),l.forEach(i),a}return d.map=function(t,n){return p(n,t,0)},d.entries=function(t){return function e(t,r){if(r>=g.length)return t;var a=[],i=n[r++];return t.forEach(function(t,n){a.push({key:t,values:e(n,r)})}),i?a.sort(function(t,n){return i(t.key,n.key)}):a}(p(L.map,t,0),0)},d.key=function(t){return g.push(t),d},d.sortKeys=function(t){return n[g.length-1]=t,d},d.sortValues=function(t){return s=t,d},d.rollup=function(t){return h=t,d},d},L.set=function(t){var n=new x;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n},h(x,{has:p,add:function(t){return this[d+t]=!0,t},remove:function(t){return(t=d+t)in this&&delete this[t]},values:b,size:v,empty:y,forEach:function(t){for(var n in this)n.charCodeAt(0)===g&&t.call(this,n.substring(1))}}),L.behavior={},L.rebind=function(t,n){for(var e,r=1,a=arguments.length;++r<a;)t[e=arguments[r]]=function(n,e,r){return function(){var t=r.apply(e,arguments);return t===e?n:t}}(t,n,n[e]);return t};var _=["webkit","ms","moz","Moz","o","O"];function w(){}function k(){}function S(a){var i=[],u=new m;function t(){for(var t,n=i,e=-1,r=n.length;++e<r;)(t=n[e].on)&&t.apply(this,arguments);return a}return t.on=function(t,n){var e,r=u.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,i=i.slice(0,e=i.indexOf(r)).concat(i.slice(e+1)),u.remove(t)),n&&i.push(u.set(t,{on:n})),a)},t}function R(){L.event.preventDefault()}function E(){for(var t,n=L.event;t=n.sourceEvent;)n=t;return n}function D(a){for(var i=new k,t=0,n=arguments.length;++t<n;)i[arguments[t]]=S(i);return i.of=function(e,r){return function(t){try{var n=t.sourceEvent=L.event;t.target=a,L.event=t,i[t.type].apply(e,r)}finally{L.event=n}}},i}L.dispatch=function(){for(var t=new k,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=S(t);return t},k.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(0<=e&&(r=t.substring(e+1),t=t.substring(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},L.event=null,L.requote=function(t){return t.replace(N,"\\$&")};var N=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,A={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};function C(t){return A(t,H),t}var z=function(t,n){return n.querySelector(t)},P=function(t,n){return n.querySelectorAll(t)},j=o[M(o,"matchesSelector")],O=function(t,n){return j.call(t,n)};"function"==typeof Sizzle&&(z=function(t,n){return Sizzle(t,n)[0]||null},P=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))},O=Sizzle.matchesSelector),L.selection=function(){return at};var H=L.selection.prototype=[];function U(t){return"function"==typeof t?t:function(){return z(t,this)}}function V(t){return"function"==typeof t?t:function(){return P(t,this)}}H.select=function(t){var n,e,r,a,i=[];t=U(t);for(var u=-1,o=this.length;++u<o;){i.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var f=-1,c=r.length;++f<c;)(a=r[f])?(n.push(e=t.call(a,a.__data__,f,u)),e&&"__data__"in a&&(e.__data__=a.__data__)):n.push(null)}return C(i)},H.selectAll=function(t){var n,e,r=[];t=V(t);for(var a=-1,i=this.length;++a<i;)for(var u=this[a],o=-1,f=u.length;++o<f;)(e=u[o])&&(r.push(n=s(t.call(e,e.__data__,o,a))),n.parentNode=e);return C(r)};var F={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y(n,e){return n=L.ns.qualify(n),null==e?n.local?function(){this.removeAttributeNS(n.space,n.local)}:function(){this.removeAttribute(n)}:"function"==typeof e?n.local?function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}:function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}:n.local?function(){this.setAttributeNS(n.space,n.local,e)}:function(){this.setAttribute(n,e)}}function I(t){return t.trim().replace(/\s+/g," ")}function Z(t){return new RegExp("(?:^|\\s+)"+L.requote(t)+"(?:\\s+|$)","g")}function B(t){return t.trim().split(/^|\s+/)}function G(e,r){var a=(e=B(e).map(X)).length;return"function"==typeof r?function(){for(var t=-1,n=r.apply(this,arguments);++t<a;)e[t](this,n)}:function(){for(var t=-1;++t<a;)e[t](this,r)}}function X(r){var a=Z(r);return function(t,n){if(e=t.classList)return n?e.add(r):e.remove(r);var e=t.getAttribute("class")||"";n?(a.lastIndex=0,a.test(e)||t.setAttribute("class",I(e+" "+r))):t.setAttribute("class",I(e.replace(a," ")))}}function $(n,e,r){return null==e?function(){this.style.removeProperty(n)}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}:function(){this.style.setProperty(n,e,r)}}function W(n,e){return null==e?function(){delete this[n]}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}:function(){this[n]=e}}function J(t){return"function"==typeof t?t:(t=L.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function K(t){return{__data__:t}}function Q(t){return function(){return O(this,t)}}function tt(t,n){for(var e=0,r=t.length;e<r;e++)for(var a,i=t[e],u=0,o=i.length;u<o;u++)(a=i[u])&&n(a,u,e);return t}function nt(t){return A(t,et),t}L.ns={prefix:F,qualify:function(t){var n=t.indexOf(":"),e=t;return 0<=n&&(e=t.substring(0,n),t=t.substring(n+1)),F.hasOwnProperty(e)?{space:F[e],local:t}:t}},H.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=L.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(Y(n,t[n]));return this}return this.each(Y(t,n))},H.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=B(t)).length,a=-1;if(n=e.classList){for(;++a<r;)if(!n.contains(t[a]))return!1}else for(n=e.getAttribute("class");++a<r;)if(!Z(t[a]).test(n))return!1;return!0}for(n in t)this.each(G(n,t[n]));return this}return this.each(G(t,n))},H.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each($(e,t[e],n));return this}if(r<2)return q.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each($(t,n,e))},H.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(W(n,t[n]));return this}return this.each(W(t,n))},H.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},H.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},H.append=function(t){return t=J(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},H.insert=function(t,n){return t=J(t),n=U(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},H.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},H.data=function(t,p){var n,e,r=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++r<a;)(e=n[r])&&(t[r]=e.__data__);return t}function i(t,n){var e,r,a=t.length,i=n.length,u=Math.min(a,i),o=new Array(i),f=new Array(i),c=new Array(a);if(p){for(var l,s=new m,h=new m,d=[],g=-1;++g<a;)l=p.call(e=t[g],e.__data__,g),s.has(l)?c[g]=e:s.set(l,e),d.push(l);for(g=-1;++g<i;)l=p.call(n,r=n[g],g),(e=s.get(l))?(o[g]=e).__data__=r:h.has(l)||(f[g]=K(r)),h.set(l,r),s.remove(l);for(g=-1;++g<a;)s.has(d[g])&&(c[g]=t[g])}else{for(g=-1;++g<u;)e=t[g],r=n[g],e?(e.__data__=r,o[g]=e):f[g]=K(r);for(;g<i;++g)f[g]=K(n[g]);for(;g<a;++g)c[g]=t[g]}f.update=o,f.parentNode=o.parentNode=c.parentNode=t.parentNode,b.push(f),v.push(o),y.push(c)}var b=nt([]),v=C([]),y=C([]);if("function"==typeof t)for(;++r<a;)i(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<a;)i(n=this[r],t);return v.enter=function(){return b},v.exit=function(){return y},v},H.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},H.filter=function(t){var n,e,r,a=[];"function"!=typeof t&&(t=Q(t));for(var i=0,u=this.length;i<u;i++){a.push(n=[]),n.parentNode=(e=this[i]).parentNode;for(var o=0,f=e.length;o<f;o++)(r=e[o])&&t.call(r,r.__data__,o,i)&&n.push(r)}return C(a)},H.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],a=r.length-1,i=r[a];0<=--a;)(e=r[a])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},H.sort=function(t){t=function(e){arguments.length||(e=L.ascending);return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},H.each=function(r){return tt(this,function(t,n,e){r.call(t,t.__data__,n,e)})},H.call=function(t){var n=s(arguments);return t.apply(n[0]=this,n),this},H.empty=function(){return!this.node()},H.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],r=0,a=e.length;r<a;r++){var i=e[r];if(i)return i}return null},H.size=function(){var t=0;return this.each(function(){++t}),t};var et=[];function rt(){var t=this.__transition__;t&&++t.active}L.selection.enter=nt,(L.selection.enter.prototype=et).append=H.append,et.empty=H.empty,et.node=H.node,et.call=H.call,et.size=H.size,et.select=function(t){for(var n,e,r,a,i,u=[],o=-1,f=this.length;++o<f;){r=(a=this[o]).update,u.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,l=a.length;++c<l;)(i=a[c])?(n.push(r[c]=e=t.call(a.parentNode,i.__data__,c,o)),e.__data__=i.__data__):n.push(null)}return C(u)},et.insert=function(t,n){var u,o,f;return arguments.length<2&&(u=this,n=function(t,n,e){var r,a=u[e].update,i=a.length;for(e!=f&&(f=e,o=0),o<=n&&(o=n+1);!(r=a[o])&&++o<i;);return r}),H.insert.call(this,t,n)},H.transition=function(){for(var t,n,e=ko||++No,r=[],a=So||{time:Date.now(),ease:_i,delay:0,duration:250},i=-1,u=this.length;++i<u;){r.push(t=[]);for(var o=this[i],f=-1,c=o.length;++f<c;)(n=o[f])&&zo(n,f,e,a),t.push(n)}return wo(r,e)},H.interrupt=function(){return this.each(rt)},L.select=function(t){var n=["string"==typeof t?z(t,r):t];return n.parentNode=o,C([n])},L.selectAll=function(t){var n=s("string"==typeof t?P(t,r):t);return n.parentNode=o,C([n])};var at=L.select(o);function it(a,n,e){var r="__on"+a,t=a.indexOf("."),i=ot;0<t&&(a=a.substring(0,t));var u=ut.get(a);function o(){var t=this[r];t&&(this.removeEventListener(a,t,t.$),delete this[r])}return u&&(a=u,i=ft),t?n?function(){var t=i(n,s(arguments));o.call(this),this.addEventListener(a,this[r]=t,t.$=e),t._=n}:o:n?w:function(){var t,n,e=new RegExp("^__on([^.]+)"+L.requote(a)+"$");for(var r in this){(t=r.match(e))&&(n=this[r],this.removeEventListener(t[1],n,n.$),delete this[r])}}}H.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(it(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(it(t,n,e))};var ut=L.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ot(e,r){return function(t){var n=L.event;L.event=t,r[0]=this.__data__;try{e.apply(this,r)}finally{L.event=n}}}function ft(t,n){var e=ot(t,n);return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}ut.forEach(function(t){"on"+t in r&&ut.remove(t)});var ct="onselectstart"in r?null:M(o.style,"userSelect"),lt=0;function st(){var e,r,a=".dragsuppress-"+ ++lt,i="click"+a,u=L.select(q).on("touchmove"+a,R).on("dragstart"+a,R).on("selectstart"+a,R);return ct&&(e=o.style,r=e[ct],e[ct]="none"),function(t){function n(){u.on(i,null)}u.on(a,null),ct&&(e[ct]=r),t&&(u.on(i,function(){R(),n()},!0),setTimeout(n,0))}}L.mouse=function(t){return dt(t,E())};var ht=/WebKit/.test(q.navigator.userAgent)?-1:0;function dt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r,a=e.createSVGPoint();return ht<0&&(q.scrollX||q.scrollY)&&(r=(e=L.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM(),ht=!(r.f||r.e),e.remove()),ht?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}L.touches=function(e,t){return arguments.length<2&&(t=E().touches),t?s(t).map(function(t){var n=dt(e,t);return n.identifier=t.identifier,n}):[]},L.behavior.drag=function(){var g=D(e,"drag","dragstart","dragend"),p=null,t=r(w,L.mouse,"mousemove","mouseup"),n=r(function(){return L.event.changedTouches[0].identifier},function(t,n){return L.touches(t).filter(function(t){return t.identifier===n})[0]},"touchmove","touchend");function e(){this.on("mousedown.drag",t).on("touchstart.drag",n)}function r(l,s,h,d){return function(){var r,a=this.parentNode,i=g.of(this,arguments),t=L.event.target,u=l(),n=null==u?"drag":"drag-"+u,o=s(a,u),f=0,e=L.select(q).on(h+"."+n,function(){var t=s(a,u),n=t[0]-o[0],e=t[1]-o[1];f|=n|e,i({type:"drag",x:(o=t)[0]+r[0],y:t[1]+r[1],dx:n,dy:e})}).on(d+"."+n,function(){e.on(h+"."+n,null).on(d+"."+n,null),c(f&&L.event.target===t),i({type:"dragend"})}),c=st();r=p?[(r=p.apply(this,arguments)).x-o[0],r.y-o[1]]:[0,0],i({type:"dragstart"})}}return e.origin=function(t){return arguments.length?(p=t,e):p},L.rebind(e,g,"on")};var gt=Math.PI,pt=2*gt,bt=gt/2,vt=1e-6,yt=vt*vt,mt=gt/180,xt=180/gt;function Mt(t){return 0<t?1:t<0?-1:0}function _t(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function wt(t){return 1<t?0:t<-1?gt:Math.acos(t)}function kt(t){return 1<t?bt:t<-1?-bt:Math.asin(t)}function St(t){return((t=Math.exp(t))+1/t)/2}function Et(t){return(t=Math.sin(t/2))*t}var Nt=Math.SQRT2;L.interpolateZoom=function(t,n){var u=t[0],o=t[1],f=t[2],e=n[0],r=n[1],a=n[2],c=e-u,l=r-o,i=c*c+l*l,s=Math.sqrt(i),h=(a*a-f*f+4*i)/(2*f*2*s),d=(a*a-f*f-4*i)/(2*a*2*s),g=Math.log(Math.sqrt(h*h+1)-h),p=Math.log(Math.sqrt(d*d+1)-d)-g,b=(p||Math.log(a/f))/Nt;function v(t){var n,e,r=t*b;if(p){var a=St(g),i=f/(2*s)*(a*(e=Nt*r+g,((e=Math.exp(2*e))-1)/(e+1))-(n=g,((n=Math.exp(n))-1/n)/2));return[u+i*c,o+i*l,f*a/St(Nt*r+g)]}return[u+t*c,o+t*l,f*Math.exp(Nt*r)]}return v.duration=1e3*b,v},L.behavior.zoom=function(){var e,r,a,p,n,i,u,o,b={x:0,y:0,k:1},f=[960,500],c=Ct,v="mousedown.zoom",l="mousemove.zoom",s="mouseup.zoom",y="touchstart.zoom",m=D(h,"zoomstart","zoom","zoomend");function h(t){t.on(v,E).on(zt+".zoom",g).on(l,A).on("dblclick.zoom",C).on(y,N)}function x(t){return[(t[0]-b.x)/b.k,(t[1]-b.y)/b.k]}function M(t){b.k=Math.max(c[0],Math.min(c[1],t))}function _(t,n){var e;n=[(e=n)[0]*b.k+b.x,e[1]*b.k+b.y],b.x+=t[0]-n[0],b.y+=t[1]-n[1]}function d(){i&&i.domain(n.range().map(function(t){return(t-b.x)/b.k}).map(n.invert)),o&&o.domain(u.range().map(function(t){return(t-b.y)/b.k}).map(u.invert))}function w(t){t({type:"zoomstart"})}function k(t){d(),t({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function S(t){t({type:"zoomend"})}function E(){var t=this,n=m.of(t,arguments),e=L.event.target,r=0,a=L.select(q).on(l,function(){r=1,_(L.mouse(t),i),k(n)}).on(s,function(){a.on(l,q===t?A:null).on(s,null),u(r&&L.event.target===e),S(n)}),i=x(L.mouse(t)),u=st();rt.call(t),w(n)}function N(){var c,l=this,s=m.of(l,arguments),h={},d=0,t=L.event.changedTouches[0].identifier,a="touchmove.zoom-"+t,i="touchend.zoom-"+t,u=L.select(q).on(a,function(){for(var t,n,e,r,a=L.touches(l),i=0,u=a.length;i<u;++i,r=null)if(e=a[i],r=h[e.identifier]){if(n)break;t=e,n=r}{var o,f;r&&(o=(o=e[0]-t[0])*o+(o=e[1]-t[1])*o,f=d&&Math.sqrt(o/d),t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+r[0])/2,(n[1]+r[1])/2],M(f*c))}p=null,_(t,n),k(s)}).on(i,function(){if(L.event.touches.length){for(var t=L.event.changedTouches,n=0,e=t.length;n<e;++n)delete h[t[n].identifier];for(var r in h)return void g()}u.on(a,null).on(i,null),o.on(v,E).on(y,N),f(),S(s)}),o=L.select(l).on(v,null).on(y,n),f=st();function g(){var t=L.touches(l);return c=b.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=x(t))}),t}function n(){for(var t=L.event.changedTouches,n=0,e=t.length;n<e;++n)h[t[n].identifier]=null;var r,a,i,u,o,f=g(),c=Date.now();1===f.length?(c-p<500&&(a=f[0],r=h[a.identifier],M(2*b.k),_(a,r),R(),k(s)),p=c):1<f.length&&(a=f[0],i=f[1],u=a[0]-i[0],o=a[1]-i[1],d=u*u+o*o)}rt.call(l),n(),w(s)}function g(){var t=m.of(this,arguments);a?clearTimeout(a):(rt.call(this),w(t)),a=setTimeout(function(){a=null,S(t)},50),R();var n=r||L.mouse(this);e=e||x(n),M(Math.pow(2,.002*At())*b.k),_(n,e),k(t)}function A(){e=null}function C(){var t=m.of(this,arguments),n=L.mouse(this),e=x(n),r=Math.log(b.k)/Math.LN2;w(t),M(Math.pow(2,L.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),_(n,e),k(t),S(t)}return h.event=function(t){t.each(function(){var o=m.of(this,arguments),n=b;ko?L.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1},w(o)}).tween("zoom:zoom",function(){var r=f[0],t=f[1],a=r/2,i=t/2,u=L.interpolateZoom([(a-b.x)/b.k,(i-b.y)/b.k,r/b.k],[(a-n.x)/n.k,(i-n.y)/n.k,r/n.k]);return function(t){var n=u(t),e=r/n[2];this.__chart__=b={x:a-n[0]*e,y:i-n[1]*e,k:e},k(o)}}).each("end.zoom",function(){S(o)}):(this.__chart__=b,w(o),k(o),S(o))})},h.translate=function(t){return arguments.length?(b={x:+t[0],y:+t[1],k:b.k},d(),h):[b.x,b.y]},h.scale=function(t){return arguments.length?(b={x:b.x,y:b.y,k:+t},d(),h):b.k},h.scaleExtent=function(t){return arguments.length?(c=null==t?Ct:[+t[0],+t[1]],h):c},h.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],h):r},h.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],h):f},h.x=function(t){return arguments.length?(n=(i=t).copy(),b={x:0,y:0,k:1},h):i},h.y=function(t){return arguments.length?(u=(o=t).copy(),b={x:0,y:0,k:1},h):o},L.rebind(h,m,"on")};var At,Ct=[0,1/0],zt="onwheel"in r?(At=function(){return-L.event.deltaY*(L.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(At=function(){return L.event.wheelDelta},"mousewheel"):(At=function(){return-L.event.detail},"MozMousePixelScroll");function Lt(){}function qt(t,n,e){return new Tt(t,n,e)}function Tt(t,n,e){this.h=t,this.s=n,this.l=e}Lt.prototype.toString=function(){return this.rgb()+""},L.hsl=function(t,n,e){return 1===arguments.length?t instanceof Tt?qt(t.h,t.s,t.l):an(""+t,un,qt):qt(+t,+n,+e)};var Rt=Tt.prototype=new Lt;function Dt(t,n,e){var r,a;function i(t){return Math.round(255*(360<(n=t)?n-=360:n<0&&(n+=360),n<60?r+(a-r)*n/60:n<180?a:n<240?r+(a-r)*(240-n)/60:r));var n}return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)||n<0?0:1<n?1:n,r=2*(e=e<0?0:1<e?1:e)-(a=e<=.5?e*(1+n):e+n-e*n),tn(i(t+120),i(t),i(t-120))}function Pt(t,n,e){return new jt(t,n,e)}function jt(t,n,e){this.h=t,this.c=n,this.l=e}Rt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),qt(this.h,this.s,this.l/t)},Rt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),qt(this.h,this.s,t*this.l)},Rt.rgb=function(){return Dt(this.h,this.s,this.l)},L.hcl=function(t,n,e){return 1===arguments.length?t instanceof jt?Pt(t.h,t.c,t.l):Xt(t instanceof Vt?t.l:(t=on((t=L.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Pt(+t,+n,+e)};var Ot=jt.prototype=new Lt;function Ht(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),Ut(e,Math.cos(t*=mt)*n,Math.sin(t)*n)}function Ut(t,n,e){return new Vt(t,n,e)}function Vt(t,n,e){this.l=t,this.a=n,this.b=e}Ot.brighter=function(t){return Pt(this.h,this.c,Math.min(100,this.l+Ft*(arguments.length?t:1)))},Ot.darker=function(t){return Pt(this.h,this.c,Math.max(0,this.l-Ft*(arguments.length?t:1)))},Ot.rgb=function(){return Ht(this.h,this.c,this.l).rgb()},L.lab=function(t,n,e){return 1===arguments.length?t instanceof Vt?Ut(t.l,t.a,t.b):t instanceof jt?Ht(t.l,t.c,t.h):on((t=L.rgb(t)).r,t.g,t.b):Ut(+t,+n,+e)};var Ft=18,Yt=.95047,It=1,Zt=1.08883,Bt=Vt.prototype=new Lt;function Gt(t,n,e){var r=(t+16)/116,a=r+n/500,i=r-e/200;return tn(Jt(3.2404542*(a=$t(a)*Yt)-1.5371385*(r=$t(r)*It)-.4985314*(i=$t(i)*Zt)),Jt(-.969266*a+1.8760108*r+.041556*i),Jt(.0556434*a-.2040259*r+1.0572252*i))}function Xt(t,n,e){return 0<t?Pt(Math.atan2(e,n)*xt,Math.sqrt(n*n+e*e),t):Pt(NaN,NaN,t)}function $t(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function Wt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function Jt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function Kt(t){return tn(t>>16,t>>8&255,255&t)}function Qt(t){return Kt(t)+""}function tn(t,n,e){return new nn(t,n,e)}function nn(t,n,e){this.r=t,this.g=n,this.b=e}Bt.brighter=function(t){return Ut(Math.min(100,this.l+Ft*(arguments.length?t:1)),this.a,this.b)},Bt.darker=function(t){return Ut(Math.max(0,this.l-Ft*(arguments.length?t:1)),this.a,this.b)},Bt.rgb=function(){return Gt(this.l,this.a,this.b)},L.rgb=function(t,n,e){return 1===arguments.length?t instanceof nn?tn(t.r,t.g,t.b):an(""+t,tn,Dt):tn(~~t,~~n,~~e)};var en=nn.prototype=new Lt;function rn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function an(t,n,e){var r,a,i=0,u=0,o=0,f=/([a-z]+)\((.*)\)/i.exec(t);if(f)switch(r=f[2].split(","),f[1]){case"hsl":return e(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return n(cn(r[0]),cn(r[1]),cn(r[2]))}return(a=ln.get(t))?n(a.r,a.g,a.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(i=t.charAt(1),i+=i,u=t.charAt(2),u+=u,o=t.charAt(3),o+=o):7===t.length&&(i=t.substring(1,3),u=t.substring(3,5),o=t.substring(5,7)),i=parseInt(i,16),u=parseInt(u,16),o=parseInt(o,16)),n(i,u,o))}function un(t,n,e){var r,a,i=Math.min(t/=255,n/=255,e/=255),u=Math.max(t,n,e),o=u-i,f=(u+i)/2;return o?(a=f<.5?o/(u+i):o/(2-u-i),r=t==u?(n-e)/o+(n<e?6:0):n==u?(e-t)/o+2:(t-n)/o+4,r*=60):(r=NaN,a=0<f&&f<1?0:r),qt(r,a,f)}function on(t,n,e){var r=Wt((.4124564*(t=fn(t))+.3575761*(n=fn(n))+.1804375*(e=fn(e)))/Yt),a=Wt((.2126729*t+.7151522*n+.072175*e)/It);return Ut(116*a-16,500*(r-a),200*(a-Wt((.0193339*t+.119192*n+.9503041*e)/Zt)))}function fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function cn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}en.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b;return n||e||r?(n&&n<30&&(n=30),e&&e<30&&(e=30),r&&r<30&&(r=30),tn(Math.min(255,~~(n/t)),Math.min(255,~~(e/t)),Math.min(255,~~(r/t)))):tn(30,30,30)},en.darker=function(t){return tn(~~((t=Math.pow(.7,arguments.length?t:1))*this.r),~~(t*this.g),~~(t*this.b))},en.hsl=function(){return un(this.r,this.g,this.b)},en.toString=function(){return"#"+rn(this.r)+rn(this.g)+rn(this.b)};var ln=L.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function sn(t){return"function"==typeof t?t:function(){return t}}function hn(t){return t}function dn(r){return function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=null),gn(t,n,r,e)}}function gn(a,i,e,t){var r,u={},o=L.dispatch("beforesend","progress","load","error"),f={},c=new XMLHttpRequest,l=null;function n(){var t,n=c.status;if(!n&&c.responseText||200<=n&&n<300||304===n){try{t=e.call(u,c)}catch(t){return void o.error.call(u,t)}o.load.call(u,t)}else o.error.call(u,c)}return!q.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(a)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=n:c.onreadystatechange=function(){3<c.readyState&&n()},c.onprogress=function(t){var n=L.event;L.event=t;try{o.progress.call(u,c)}finally{L.event=n}},u.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?f[t]:(null==n?delete f[t]:f[t]=n+"",u)},u.mimeType=function(t){return arguments.length?(i=null==t?null:t+"",u):i},u.responseType=function(t){return arguments.length?(l=t,u):l},u.response=function(t){return e=t,u},["get","post"].forEach(function(t){u[t]=function(){return u.send.apply(u,[t].concat(s(arguments)))}}),u.send=function(t,n,e){if(2===arguments.length&&"function"==typeof n&&(e=n,n=null),c.open(t,a,!0),null==i||"accept"in f||(f.accept=i+",*/*"),c.setRequestHeader)for(var r in f)c.setRequestHeader(r,f[r]);return null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=l&&(c.responseType=l),null!=e&&u.on("error",e).on("load",function(t){e(null,t)}),o.beforesend.call(u,c),c.send(null==n?null:n),u},u.abort=function(){return c.abort(),u},L.rebind(u,o,"on"),null==t?u:u.get(1===(r=t).length?function(t,n){r(null==t?n:null)}:r)}ln.forEach(function(t,n){ln.set(t,Kt(n))}),L.functor=sn,L.xhr=dn(hn),L.dsv=function(a,i){var n=new RegExp('["'+a+"\n]"),h=a.charCodeAt(0);function u(t,n,e){arguments.length<3&&(e=n,n=null);var r=gn(t,i,null==n?o:f(n),e);return r.row=function(t){return arguments.length?r.response(null==(n=t)?o:f(t)):n},r}function o(t){return u.parse(t.responseText)}function f(n){return function(t){return u.parse(t.responseText,n)}}function e(t){return t.map(c).join(a)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return u.parse=function(t,r){var a;return u.parseRows(t,function(t,n){if(a)return a(t,n-1);var e=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");a=r?function(t,n){return r(e(t),n)}:e})},u.parseRows=function(a,t){var n,i,u={},o={},e=[],f=a.length,c=0,r=0;function l(){if(f<=c)return o;if(i)return i=!1,u;var t=c;if(34===a.charCodeAt(t)){for(var n=t;n++<f;)if(34===a.charCodeAt(n)){if(34!==a.charCodeAt(n+1))break;++n}return c=n+2,13===(e=a.charCodeAt(n+1))?(i=!0,10===a.charCodeAt(n+2)&&++c):10===e&&(i=!0),a.substring(t+1,n).replace(/""/g,'"')}for(;c<f;){var e,r=1;if(10===(e=a.charCodeAt(c++)))i=!0;else if(13===e)i=!0,10===a.charCodeAt(c)&&(++c,++r);else if(e!==h)continue;return a.substring(t,c-r)}return a.substring(t)}for(;(n=l())!==o;){for(var s=[];n!==u&&n!==o;)s.push(n),n=l();t&&!(s=t(s,r++))||e.push(s)}return e},u.format=function(t){if(Array.isArray(t[0]))return u.formatRows(t);var e=new x,r=[];return t.forEach(function(t){for(var n in t)e.has(n)||r.push(e.add(n))}),[r.map(c).join(a)].concat(t.map(function(n){return r.map(function(t){return c(n[t])}).join(a)})).join("\n")},u.formatRows=function(t){return t.map(e).join("\n")},u},L.csv=L.dsv(",","text/csv"),L.tsv=L.dsv("\t","text/tab-separated-values");var pn,bn,vn,yn,mn,xn=q[M(q,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Mn(){var t=_n(),n=wn()-t;24<n?(isFinite(n)&&(clearTimeout(yn),yn=setTimeout(Mn,n)),vn=0):(vn=1,xn(Mn))}function _n(){var t=Date.now();for(mn=pn;mn;)t>=mn.t&&(mn.f=mn.c(t-mn.t)),mn=mn.n;return t}function wn(){for(var t,n=pn,e=1/0;n;)n=n.f?t?t.n=n.n:pn=n.n:(n.t<e&&(e=n.t),(t=n).n);return bn=t,e}function kn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}L.timer=function(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var a={c:t,t:e+n,f:!1,n:null};bn?bn.n=a:pn=a,bn=a,vn||(yn=clearTimeout(yn),vn=1,xn(Mn))},L.timer.flush=function(){_n(),wn()},L.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Sn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,n){var e=Math.pow(10,3*T(8-n));return{scale:8<n?function(t){return t/e}:function(t){return t*e},symbol:t}});L.formatPrefix=function(t,n){var e=0;return t&&(t<0&&(t*=-1),n&&(t=L.round(t,kn(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e<=0?e+1:e-1)/3)))),Sn[8+e/3]};var En=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Nn=L.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=L.round(t,kn(t,n))).toFixed(Math.max(0,Math.min(20,kn(t*(1+1e-15),n))))}});function An(t){return t+""}var Cn=L.time={},zn=Date;function Ln(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ln.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){qn.setUTCDate.apply(this._,arguments)},setDay:function(){qn.setUTCDay.apply(this._,arguments)},setFullYear:function(){qn.setUTCFullYear.apply(this._,arguments)},setHours:function(){qn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){qn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){qn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){qn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){qn.setUTCSeconds.apply(this._,arguments)},setTime:function(){qn.setTime.apply(this._,arguments)}};var qn=Date.prototype;function Tn(r,i,u){function t(t){var n=r(t),e=a(n,1);return t-n<e-t?n:e}function o(t){return i(t=r(new zn(t-1)),1),t}function a(t,n){return i(t=new zn(+t),n),t}function f(t,n,e){var r=o(t),a=[];if(1<e)for(;r<n;)u(r)%e||a.push(new Date(+r)),i(r,1);else for(;r<n;)a.push(new Date(+r)),i(r,1);return a}(r.floor=r).round=t,r.ceil=o,r.offset=a,r.range=f;var n=r.utc=Rn(r);return(n.floor=n).round=Rn(t),n.ceil=Rn(o),n.offset=Rn(a),n.range=function(t,n,e){try{var r=new(zn=Ln);return r._=t,f(r,n,e)}finally{zn=Date}},r}function Rn(r){return function(t,n){try{var e=new(zn=Ln);return e._=t,r(e,n)._}finally{zn=Date}}}function Dn(t){var n=t.dateTime,e=t.date,r=t.time,a=t.periods,i=t.days,u=t.shortDays,o=t.months,f=t.shortMonths;function c(o){var f=o.length;function t(t){for(var n,e,r,a=[],i=-1,u=0;++i<f;)37===o.charCodeAt(i)&&(a.push(o.substring(u,i)),null!=(e=Pn[n=o.charAt(++i)])&&(n=o.charAt(++i)),(r=x[n])&&(n=r(t,null==e?"e"===n?" ":"0":e)),a.push(n),u=i+1);return a.push(o.substring(u,i)),a.join("")}return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(l(n,o,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var e=null!=n.Z&&zn!==Ln,r=new(e?Ln:zn);return"j"in n?r.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),e?r._:r},t.toString=function(){return o},t}function l(t,n,e,r){for(var a,i,u,o=0,f=n.length,c=e.length;o<f;){if(c<=r)return-1;if(37===(a=n.charCodeAt(o++))){if(u=n.charAt(o++),!(i=M[u in Pn?n.charAt(o++):u])||(r=i(t,e,r))<0)return-1}else if(a!=e.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(t){var e=c(t);function n(t){try{var n=new(zn=Ln);return n._=t,e(n)}finally{zn=Date}}return n.parse=function(t){try{zn=Ln;var n=e.parse(t);return n&&n._}finally{zn=Date}},n.toString=e.toString,n}).multi=re;var s=L.map(),h=Un(i),d=Vn(i),g=Un(u),p=Vn(u),b=Un(o),v=Vn(o),y=Un(f),m=Vn(f);a.forEach(function(t,n){s.set(t.toLowerCase(),n)});var x={a:function(t){return u[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:c(n),d:function(t,n){return Hn(t.getDate(),n,2)},e:function(t,n){return Hn(t.getDate(),n,2)},H:function(t,n){return Hn(t.getHours(),n,2)},I:function(t,n){return Hn(t.getHours()%12||12,n,2)},j:function(t,n){return Hn(1+Cn.dayOfYear(t),n,3)},L:function(t,n){return Hn(t.getMilliseconds(),n,3)},m:function(t,n){return Hn(t.getMonth()+1,n,2)},M:function(t,n){return Hn(t.getMinutes(),n,2)},p:function(t){return a[+(12<=t.getHours())]},S:function(t,n){return Hn(t.getSeconds(),n,2)},U:function(t,n){return Hn(Cn.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Hn(Cn.mondayOfYear(t),n,2)},x:c(e),X:c(r),y:function(t,n){return Hn(t.getFullYear()%100,n,2)},Y:function(t,n){return Hn(t.getFullYear()%1e4,n,4)},Z:ne,"%":function(){return"%"}},M={a:function(t,n,e){g.lastIndex=0;var r=g.exec(n.substring(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){h.lastIndex=0;var r=h.exec(n.substring(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){y.lastIndex=0;var r=y.exec(n.substring(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){b.lastIndex=0;var r=b.exec(n.substring(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,n,e){return l(t,x.c.toString(),n,e)},d:$n,e:$n,H:Jn,I:Jn,j:Wn,L:te,m:Xn,M:Kn,p:function(t,n,e){var r=s.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)},S:Qn,U:Yn,w:Fn,W:In,x:function(t,n,e){return l(t,x.x.toString(),n,e)},X:function(t,n,e){return l(t,x.X.toString(),n,e)},y:Bn,Y:Zn,Z:Gn,"%":ee};return c}Cn.year=Tn(function(t){return(t=Cn.day(t)).setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),Cn.years=Cn.year.range,Cn.years.utc=Cn.year.utc.range,Cn.day=Tn(function(t){var n=new zn(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),Cn.days=Cn.day.range,Cn.days.utc=Cn.day.utc.range,Cn.dayOfYear=function(t){var n=Cn.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Cn[t]=Tn(function(t){return(t=Cn.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var n=Cn.year(t).getDay();return Math.floor((Cn.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Cn[t+"s"]=n.range,Cn[t+"s"].utc=n.utc.range,Cn[t+"OfYear"]=function(t){var n=Cn.year(t).getDay();return Math.floor((Cn.dayOfYear(t)+(n+e)%7)/7)}}),Cn.week=Cn.sunday,Cn.weeks=Cn.sunday.range,Cn.weeks.utc=Cn.sunday.utc.range,Cn.weekOfYear=Cn.sundayOfYear;var Pn={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,On=/^%/;function Hn(t,n,e){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<e?new Array(e-i+1).join(n)+a:a)}function Un(t){return new RegExp("^(?:"+t.map(L.requote).join("|")+")","i")}function Vn(t){for(var n=new m,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Fn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Yn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e));return r?(t.U=+r[0],e+r[0].length):-1}function In(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e));return r?(t.W=+r[0],e+r[0].length):-1}function Zn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Bn(t,n,e){jn.lastIndex=0;var r,a=jn.exec(n.substring(e,e+2));return a?(t.y=(r=+a[0])+(68<r?1900:2e3),e+a[0].length):-1}function Gn(t,n,e){return/^[+-]\d{4}$/.test(n=n.substring(e,e+5))?(t.Z=+n,e+5):-1}function Xn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function $n(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Wn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function Jn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Kn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Qn(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function te(t,n,e){jn.lastIndex=0;var r=jn.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ne(t){var n=t.getTimezoneOffset(),e=0<n?"-":"+",r=~~(T(n)/60),a=T(n)%60;return e+Hn(r,"0",2)+Hn(a,"0",2)}function ee(t,n,e){On.lastIndex=0;var r=On.exec(n.substring(e,e+1));return r?e+r[0].length:-1}function re(r){for(var t=r.length,n=-1;++n<t;)r[n][0]=this(r[n][0]);return function(t){for(var n=0,e=r[n];!e[1](t);)e=r[++n];return e[0](t)}}L.locale=function(t){return{numberFormat:(_=(n=t).decimal,i=n.thousands,u=n.grouping,r=n.currency,w=u?function(t){for(var n=t.length,e=[],r=0,a=u[0];0<n&&0<a;)e.push(t.substring(n-=a,n+a)),a=u[r=(r+1)%u.length];return e.reverse().join(i)}:hn,function(t){var n=En.exec(t),c=n[1]||" ",l=n[2]||">",s=n[3]||"",e=n[4]||"",h=n[5],d=+n[6],g=n[7],p=n[8],b=n[9],v=1,y="",m="",x=!1,p=p&&+p.substring(1);switch((h||"0"===c&&"="===l)&&(h=c="0",l="=",g&&(d-=Math.floor((d-1)/4))),b){case"n":g=!0,b="g";break;case"%":v=100,m="%",b="f";break;case"p":v=100,m="%",b="r";break;case"b":case"o":case"x":case"X":"#"===e&&(y="0"+b.toLowerCase());case"c":case"d":x=!0,p=0;break;case"s":v=-1,b="r"}"$"===e&&(y=r[0],m=r[1]),"r"!=b||p||(b="g"),null!=p&&("g"==b?p=Math.max(1,Math.min(21,p)):"e"!=b&&"f"!=b||(p=Math.max(0,Math.min(20,p)))),b=Nn.get(b)||An;var M=h&&g;return function(t){var n=m;if(x&&t%1)return"";var e,r=t<0||0===t&&1/t<0?(t=-t,"-"):s;v<0?(t=(e=L.formatPrefix(t,p)).scale(t),n=e.symbol+m):t*=v;var a=(t=b(t,p)).lastIndexOf("."),i=a<0?t:t.substring(0,a),u=a<0?"":_+t.substring(a+1);!h&&g&&(i=w(i));var o=y.length+i.length+u.length+(M?0:r.length),f=o<d?new Array(o=d-o+1).join(c):"";return M&&(i=w(f+i)),r+=y,t=i+u,("<"===l?r+t+f:">"===l?f+r+t:"^"===l?f.substring(0,o>>=1)+r+t+f.substring(o):r+(M?t:f+t))+n}}),timeFormat:Dn(t)};var n,_,i,u,r,w};var ae=L.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ie(){}L.format=ae.numberFormat,L.geo={},ie.prototype={s:0,t:0,add:function(t){oe(t,this.t,ue),oe(ue.s,this.s,this),this.s?this.t+=ue.t:this.s=ue.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ue=new ie;function oe(t,n,e){var r=e.s=t+n,a=r-t,i=r-a;e.t=t-i+(n-a)}function fe(t,n){t&&le.hasOwnProperty(t.type)&&le[t.type](t,n)}L.geo.stream=function(t,n){t&&ce.hasOwnProperty(t.type)?ce[t.type](t,n):fe(t,n)};var ce={Feature:function(t,n){fe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,a=e.length;++r<a;)fe(e[r].geometry,n)}},le={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,a=e.length;++r<a;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){se(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,a=e.length;++r<a;)se(e[r],n,0)},Polygon:function(t,n){he(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,a=e.length;++r<a;)he(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,a=e.length;++r<a;)fe(e[r],n)}};function se(t,n,e){var r,a=-1,i=t.length-e;for(n.lineStart();++a<i;)r=t[a],n.point(r[0],r[1],r[2]);n.lineEnd()}function he(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)se(t[e],n,1);n.polygonEnd()}L.geo.area=function(t){return de=0,L.geo.stream(t,Oe),de};var de,ge,pe,be,ve,ye,me,xe,Me,_e,we,ke,Se,Ee,Ne,Ae,Ce,ze,Le,qe,Te,Re,De,Pe,je=new ie,Oe={sphere:function(){de+=4*gt},point:w,lineStart:w,lineEnd:w,polygonStart:function(){je.reset(),Oe.lineStart=He},polygonEnd:function(){var t=2*je;de+=t<0?4*gt+t:t,Oe.lineStart=Oe.lineEnd=Oe.point=w}};function He(){var e,r,l,s,h;function a(t,n){n=n*mt/2+gt/4;var e=(t*=mt)-l,r=0<=e?1:-1,a=r*e,i=Math.cos(n),u=Math.sin(n),o=h*u,f=s*i+o*Math.cos(a),c=o*r*Math.sin(a);je.add(Math.atan2(c,f)),l=t,s=i,h=u}Oe.point=function(t,n){Oe.point=a,l=(e=t)*mt,s=Math.cos(n=(r=n)*mt/2+gt/4),h=Math.sin(n)},Oe.lineEnd=function(){a(e,r)}}function Ue(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Ve(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fe(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ye(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ie(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ze(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Be(t){return[Math.atan2(t[1],t[0]),kt(t[2])]}function Ge(t,n){return T(t[0]-n[0])<vt&&T(t[1]-n[1])<vt}function Xe(t,n){we.push(ke=[ge=t,be=t]),n<pe&&(pe=n),ve<n&&(ve=n)}function $e(t,n){var e,r,a,i,u,o,f,c=Ue([t*mt,n*mt]);Me?(e=Fe(Me,c),Ze(r=Fe([e[1],-e[0],0],e)),r=Be(r),i=0<(a=t-ye)?1:-1,u=r[0]*xt*i,(o=180<T(a))^(i*ye<u&&u<i*t)?(f=r[1]*xt,ve<f&&(ve=f)):o^(i*ye<(u=(u+360)%360-180)&&u<i*t)?(f=-r[1]*xt)<pe&&(pe=f):(n<pe&&(pe=n),ve<n&&(ve=n)),o?t<ye?nr(ge,t)>nr(ge,be)&&(be=t):nr(t,be)>nr(ge,be)&&(ge=t):ge<=be?(t<ge&&(ge=t),be<t&&(be=t)):ye<t?nr(ge,t)>nr(ge,be)&&(be=t):nr(t,be)>nr(ge,be)&&(ge=t)):Xe(t,n),Me=c,ye=t}function We(){Se.point=$e}function Je(){ke[0]=ge,ke[1]=be,Se.point=Xe,Me=null}function Ke(t,n){var e;Me?_e+=180<T(e=t-ye)?e+(0<e?360:-360):e:(me=t,xe=n),Oe.point(t,n),$e(t,n)}function Qe(){Oe.lineStart()}function tr(){Ke(me,xe),Oe.lineEnd(),T(_e)>vt&&(ge=-(be=180)),ke[0]=ge,ke[1]=be,Me=null}function nr(t,n){return(n-=t)<0?n+360:n}function er(t,n){return t[0]-n[0]}function rr(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}L.geo.bounds=(Se={point:Xe,lineStart:We,lineEnd:Je,polygonStart:function(){Se.point=Ke,Se.lineStart=Qe,Se.lineEnd=tr,_e=0,Oe.polygonStart()},polygonEnd:function(){Oe.polygonEnd(),Se.point=Xe,Se.lineStart=We,Se.lineEnd=Je,je<0?(ge=-(be=180),pe=-(ve=90)):vt<_e?ve=90:_e<-vt&&(pe=-90),ke[0]=ge,ke[1]=be}},function(t){if(ve=be=-(ge=pe=1/0),we=[],L.geo.stream(t,Se),a=we.length){we.sort(er);for(var n=1,e=[o=we[0]];n<a;++n)rr((i=we[n])[0],o)||rr(i[1],o)?(nr(o[0],i[1])>nr(o[0],o[1])&&(o[1]=i[1]),nr(i[0],o[1])>nr(o[0],o[1])&&(o[0]=i[0])):e.push(o=i);for(var r,a,i,u=-1/0,n=0,o=e[a=e.length-1];n<=a;o=i,++n)i=e[n],(r=nr(o[1],i[0]))>u&&(u=r,ge=i[0],be=o[1])}return we=ke=null,ge===1/0||pe===1/0?[[NaN,NaN],[NaN,NaN]]:[[ge,pe],[be,ve]]}),L.geo.centroid=function(t){Ee=Ne=Ae=Ce=ze=Le=qe=Te=Re=De=Pe=0,L.geo.stream(t,ar);var n=Re,e=De,r=Pe,a=n*n+e*e+r*r;return a<yt&&(n=Le,e=qe,r=Te,Ne<vt&&(n=Ae,e=Ce,r=ze),(a=n*n+e*e+r*r)<yt)?[NaN,NaN]:[Math.atan2(e,n)*xt,kt(r/Math.sqrt(a))*xt]};var ar={sphere:w,point:ir,lineStart:or,lineEnd:fr,polygonStart:function(){ar.lineStart=cr},polygonEnd:function(){ar.lineStart=or}};function ir(t,n){t*=mt;var e=Math.cos(n*=mt);ur(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function ur(t,n,e){Ae+=(t-Ae)/++Ee,Ce+=(n-Ce)/Ee,ze+=(e-ze)/Ee}function or(){var o,f,c;function r(t,n){t*=mt;var e=Math.cos(n*=mt),r=e*Math.cos(t),a=e*Math.sin(t),i=Math.sin(n),u=Math.atan2(Math.sqrt((u=f*i-c*a)*u+(u=c*r-o*i)*u+(u=o*a-f*r)*u),o*r+f*a+c*i);Ne+=u,Le+=u*(o+(o=r)),qe+=u*(f+(f=a)),Te+=u*(c+(c=i)),ur(o,f,c)}ar.point=function(t,n){t*=mt;var e=Math.cos(n*=mt);o=e*Math.cos(t),f=e*Math.sin(t),c=Math.sin(n),ar.point=r,ur(o,f,c)}}function fr(){ar.point=ir}function cr(){var r,a,d,g,p;function i(t,n){t*=mt;var e=Math.cos(n*=mt),r=e*Math.cos(t),a=e*Math.sin(t),i=Math.sin(n),u=g*i-p*a,o=p*r-d*i,f=d*a-g*r,c=Math.sqrt(u*u+o*o+f*f),l=d*r+g*a+p*i,s=c&&-wt(l)/c,h=Math.atan2(c,l);Re+=s*u,De+=s*o,Pe+=s*f,Ne+=h,Le+=h*(d+(d=r)),qe+=h*(g+(g=a)),Te+=h*(p+(p=i)),ur(d,g,p)}ar.point=function(t,n){r=t,a=n,ar.point=i,t*=mt;var e=Math.cos(n*=mt);d=e*Math.cos(t),g=e*Math.sin(t),p=Math.sin(n),ur(d,g,p)},ar.lineEnd=function(){i(r,a),ar.lineEnd=fr,ar.point=ir}}function lr(){return!0}function sr(t,n,e,r,o){var f=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Ge(e,r)){o.lineStart();for(var a=0;a<n;++a)o.point((e=t[a])[0],e[1]);o.lineEnd()}else{var i=new dr(e,t,null,!0),u=new dr(e,null,i,!1);i.o=u,f.push(i),c.push(u),i=new dr(r,t,null,!1),u=new dr(r,null,i,!0),i.o=u,f.push(i),c.push(u)}}}),c.sort(n),hr(f),hr(c),f.length){for(var a=0,i=e,u=c.length;a<u;++a)c[a].e=i=!i;for(var l,s,h=f[0];;){for(var d=h,g=!0;d.v;)if((d=d.n)===h)return;l=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(a=0,u=l.length;a<u;++a)o.point((s=l[a])[0],s[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(g)for(a=(l=d.p.z).length-1;0<=a;--a)o.point((s=l[a])[0],s[1]);else r(d.x,d.p.x,-1,o);d=d.p}l=(d=d.o).z,g=!g}while(!d.v);o.lineEnd()}}}function hr(t){if(n=t.length){for(var n,e,r=0,a=t[0];++r<n;)a.n=e=t[r],e.p=a,a=e;a.n=e=t[0],e.p=a}}function dr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function gr(v,y,m,x){return function(r,u){var o,a=y(u),n=r.invert(x[0],x[1]),e={point:i,lineStart:f,lineEnd:c,polygonStart:function(){e.point=g,e.lineStart=p,e.lineEnd=b,o=[],l=[],u.polygonStart()},polygonEnd:function(){e.point=i,e.lineStart=f,e.lineEnd=c,o=L.merge(o);var t=function(t,n){var e=t[0],r=t[1],a=[Math.sin(e),-Math.cos(e),0],i=0,u=0;je.reset();for(var o=0,f=n.length;o<f;++o){var c=n[o],l=c.length;if(l)for(var s=c[0],h=s[0],d=s[1]/2+gt/4,g=Math.sin(d),p=Math.cos(d),b=1;;){b===l&&(b=0);var v,y,m,x=(t=c[b])[0],M=t[1]/2+gt/4,_=Math.sin(M),w=Math.cos(M),k=x-h,S=0<=k?1:-1,E=S*k,N=gt<E,A=g*_;if(je.add(Math.atan2(A*S*Math.sin(E),p*w+A*Math.cos(E))),i+=N?k+S*pt:k,N^e<=h^e<=x&&(Ze(v=Fe(Ue(s),Ue(t))),Ze(y=Fe(a,v)),((m=(N^0<=k?-1:1)*kt(y[2]))<r||r===m&&(v[0]||v[1]))&&(u+=N^0<=k?1:-1)),!b++)break;h=x,g=_,p=w,s=t}}return(i<-vt||i<vt&&je<0)^1&u}(n,l);o.length?sr(o,vr,t,m,u):t&&(u.lineStart(),m(null,null,1,u),u.lineEnd()),u.polygonEnd(),o=l=null},sphere:function(){u.polygonStart(),u.lineStart(),m(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function i(t,n){var e=r(t,n);v(t=e[0],n=e[1])&&u.point(t,n)}function t(t,n){var e=r(t,n);a.point(e[0],e[1])}function f(){e.point=t,a.lineStart()}function c(){e.point=i,a.lineEnd()}var l,s,h=br(),d=y(h);function g(t,n){s.push([t,n]);var e=r(t,n);d.point(e[0],e[1])}function p(){d.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),d.lineEnd();var t,n=d.clean(),e=h.buffer(),r=e.length;if(s.pop(),l.push(s),s=null,r)if(1&n){var a,r=(t=e[0]).length-1,i=-1;for(u.lineStart();++i<r;)u.point((a=t[i])[0],a[1]);u.lineEnd()}else 1<r&&2&n&&e.push(e.pop().concat(e.shift())),o.push(e.filter(pr))}return e}}function pr(t){return 1<t.length}function br(){var e,n=[];return{lineStart:function(){n.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var t=n;return n=[],e=null,t},rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))}}}function vr(t,n){return((t=t.x)[0]<0?t[1]-bt-vt:bt-t[1])-((n=n.x)[0]<0?n[1]-bt-vt:bt-n[1])}var yr=gr(lr,function(s){var h,d=NaN,g=NaN,p=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(t,n){var e,r,a,i,u,o,f,c=0<t?gt:-gt,l=T(t-d);T(l-gt)<vt?(s.point(d,g=0<(g+n)/2?bt:-bt),s.point(p,g),s.lineEnd(),s.lineStart(),s.point(c,g),s.point(t,g),h=0):p!==c&&gt<=l&&(T(d-p)<vt&&(d-=p*vt),T(t-c)<vt&&(t-=c*vt),e=d,r=g,a=t,i=n,f=Math.sin(e-a),g=T(f)>vt?Math.atan((Math.sin(r)*(o=Math.cos(i))*Math.sin(a)-Math.sin(i)*(u=Math.cos(r))*Math.sin(e))/(u*o*f)):(r+i)/2,s.point(p,g),s.lineEnd(),s.lineStart(),s.point(c,g),h=0),s.point(d=t,g=n),p=c},lineEnd:function(){s.lineEnd(),d=g=NaN},clean:function(){return 2-h}}},function(t,n,e,r){var a;{var i;null==t?(a=e*bt,r.point(-gt,a),r.point(0,a),r.point(gt,a),r.point(gt,0),r.point(gt,-a),r.point(0,-a),r.point(-gt,-a),r.point(-gt,0),r.point(-gt,a)):T(t[0]-n[0])>vt?(i=t[0]<n[0]?gt:-gt,a=e*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)):r.point(n[0],n[1])}},[-gt,-gt/2]);function mr(a){var E=Math.cos(a),d=0<E,g=T(E)>vt;return gr(p,function(o){var f,c,l,s,h;return{lineStart:function(){s=l=!1,h=1},point:function(t,n){var e,r,a=[t,n],i=p(t,n),u=d?i?0:v(t,n):i?v(t+(t<0?gt:-gt),n):0;!f&&(s=l=i)&&o.lineStart(),i!==l&&(e=b(f,a),(Ge(f,e)||Ge(a,e))&&(a[0]+=vt,a[1]+=vt,i=p(a[0],a[1]))),i!==l?(h=0,i?(o.lineStart(),e=b(a,f),o.point(e[0],e[1])):(e=b(f,a),o.point(e[0],e[1]),o.lineEnd()),f=e):g&&f&&d^i&&(u&c||!(r=b(a,f,!0))||(h=0,d?(o.lineStart(),o.point(r[0][0],r[0][1]),o.point(r[1][0],r[1][1]),o.lineEnd()):(o.point(r[1][0],r[1][1]),o.lineEnd(),o.lineStart(),o.point(r[0][0],r[0][1])))),!i||f&&Ge(f,a)||o.point(a[0],a[1]),f=a,l=i,c=u},lineEnd:function(){l&&o.lineEnd(),f=null},clean:function(){return h|(s&&l)<<1}}},ea(a,6*mt),d?[0,-a]:[-gt,a-gt]);function p(t,n){return Math.cos(t)*Math.cos(n)>E}function b(t,n,e){var r=[1,0,0],a=Fe(Ue(t),Ue(n)),i=Ve(a,a),u=a[0],o=i-u*u;if(!o)return!e&&t;var f=E*i/o,c=-E*u/o,l=Fe(r,a),s=Ie(r,f);Ye(s,Ie(a,c));var h=l,d=Ve(s,h),g=Ve(h,h),p=d*d-g*(Ve(s,s)-1);if(!(p<0)){var b=Math.sqrt(p),v=Ie(h,(-d-b)/g);if(Ye(v,s),v=Be(v),!e)return v;var y,m=t[0],x=n[0],M=t[1],_=n[1];x<m&&(y=m,m=x,x=y);var w=x-m,k=T(w-gt)<vt;if(!k&&_<M&&(y=M,M=_,_=y),k||w<vt?k?0<M+_^v[1]<(T(v[0]-m)<vt?M:_):M<=v[1]&&v[1]<=_:gt<w^(m<=v[0]&&v[0]<=x)){var S=Ie(h,(-d+b)/g);return Ye(S,s),[v,Be(S)]}}}function v(t,n){var e=d?a:gt-a,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}}function xr(l,s,h,d){return function(t){var n=t.a,e=t.b,r=n.x,a=n.y,i=0,u=1,o=e.x-r,f=e.y-a,c=l-r;if(o||!(0<c)){if(c/=o,o<0){if(c<i)return;c<u&&(u=c)}else if(0<o){if(u<c)return;i<c&&(i=c)}if(c=h-r,o||!(c<0)){if(c/=o,o<0){if(u<c)return;i<c&&(i=c)}else if(0<o){if(c<i)return;c<u&&(u=c)}if(c=s-a,f||!(0<c)){if(c/=f,f<0){if(c<i)return;c<u&&(u=c)}else if(0<f){if(u<c)return;i<c&&(i=c)}if(c=d-a,f||!(c<0)){if(c/=f,f<0){if(u<c)return;i<c&&(i=c)}else if(0<f){if(c<i)return;c<u&&(u=c)}return 0<i&&(t.a={x:r+i*o,y:a+i*f}),u<1&&(t.b={x:r+u*o,y:a+u*f}),t}}}}}}var Mr=1e9;function _r(x,M,_,w){return function(a){var r,l,i,u,o,f,c,s,h,d,g,p=a,t=br(),b=xr(x,M,_,w),n={point:e,lineStart:function(){n.point=m,l&&l.push(i=[]);d=!0,h=!1,c=s=NaN},lineEnd:function(){r&&(m(u,o),f&&h&&t.rejoin(),r.push(t.buffer()));n.point=e,h&&a.lineEnd()},polygonStart:function(){a=t,r=[],l=[],g=!0},polygonEnd:function(){a=p,r=L.merge(r);var t=function(t){for(var n=0,e=l.length,r=t[1],a=0;a<e;++a)for(var i,u=1,o=l[a],f=o.length,c=o[0];u<f;++u)i=o[u],c[1]<=r?i[1]>r&&0<_t(c,i,t)&&++n:i[1]<=r&&_t(c,i,t)<0&&--n,c=i;return 0!==n}([x,w]),n=g&&t,e=r.length;(n||e)&&(a.polygonStart(),n&&(a.lineStart(),v(null,null,1,a),a.lineEnd()),e&&sr(r,S,t,v,a),a.polygonEnd()),r=l=i=null}};function v(t,n,e,r){var a=0,i=0;if(null==t||(a=k(t,e))!==(i=k(n,e))||E(t,n)<0^0<e)for(;r.point(0===a||3===a?x:_,1<a?w:M),(a=(a+e+4)%4)!==i;);else r.point(n[0],n[1])}function y(t,n){return x<=t&&t<=_&&M<=n&&n<=w}function e(t,n){y(t,n)&&a.point(t,n)}function m(t,n){var e,r=y(t=Math.max(-Mr,Math.min(Mr,t)),n=Math.max(-Mr,Math.min(Mr,n)));l&&i.push([t,n]),d?(u=t,o=n,d=!1,(f=r)&&(a.lineStart(),a.point(t,n))):r&&h?a.point(t,n):b(e={a:{x:c,y:s},b:{x:t,y:n}})?(h||(a.lineStart(),a.point(e.a.x,e.a.y)),a.point(e.b.x,e.b.y),r||a.lineEnd(),g=!1):r&&(a.lineStart(),a.point(t,n),g=!1),c=t,s=n,h=r}return n};function k(t,n){return T(t[0]-x)<vt?0<n?0:3:T(t[0]-_)<vt?0<n?2:1:T(t[1]-M)<vt?0<n?1:0:0<n?3:2}function S(t,n){return E(t.x,n.x)}function E(t,n){var e=k(t,1),r=k(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}}function wr(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function kr(t){var n=0,e=gt/3,r=Xr(t),a=r(n,e);return a.parallels=function(t){return arguments.length?r(n=t[0]*gt/180,e=t[1]*gt/180):[n/gt*180,e/gt*180]},a}function Sr(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,a=1+e*(2*r-e),i=Math.sqrt(a)/r;function u(t,n){var e=Math.sqrt(a-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),i-e*Math.cos(t)]}return u.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/r,kt((a-(t*t+e*e)*r*r)/(2*r))]},u}L.geo.clipExtent=function(){var n,e,r,a,i,u,o={stream:function(t){return i&&(i.valid=!1),(i=u(t)).valid=!0,i},extent:function(t){return arguments.length?(u=_r(n=+t[0][0],e=+t[0][1],r=+t[1][0],a=+t[1][1]),i&&(i.valid=!1,i=null),o):[[n,e],[r,a]]}};return o.extent([[0,0],[960,500]])},(L.geo.conicEqualArea=function(){return kr(Sr)}).raw=Sr,L.geo.albers=function(){return L.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},L.geo.albersUsa=function(){var r,a,i,u,o=L.geo.albers(),f=L.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=L.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){r=[t,n]}};function s(t){var n=t[0],e=t[1];return r=null,a(n,e),r||(i(n,e),r)||u(n,e),r}return s.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,a=(t[1]-e[1])/n;return(.12<=a&&a<.234&&-.425<=r&&r<-.214?f:.166<=a&&a<.234&&-.214<=r&&r<-.115?c:o).invert(t)},s.stream=function(t){var e=o.stream(t),r=f.stream(t),a=c.stream(t);return{point:function(t,n){e.point(t,n),r.point(t,n),a.point(t,n)},sphere:function(){e.sphere(),r.sphere(),a.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),a.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),a.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),a.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),a.polygonEnd()}}},s.precision=function(t){return arguments.length?(o.precision(t),f.precision(t),c.precision(t),s):o.precision()},s.scale=function(t){return arguments.length?(o.scale(t),f.scale(.35*t),c.scale(t),s.translate(o.translate())):o.scale()},s.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),e=+t[0],r=+t[1];return a=o.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(l).point,i=f.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+vt,r+.12*n+vt],[e-.214*n-vt,r+.234*n-vt]]).stream(l).point,u=c.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+vt,r+.166*n+vt],[e-.115*n-vt,r+.234*n-vt]]).stream(l).point,s},s.scale(1070)};var Er,Nr,Ar,Cr,zr,Lr,qr={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Nr=0,qr.lineStart=Tr},polygonEnd:function(){qr.lineStart=qr.lineEnd=qr.point=w,Er+=T(Nr/2)}};function Tr(){var e,r,a,i;function u(t,n){Nr+=i*t-a*n,a=t,i=n}qr.point=function(t,n){qr.point=u,e=a=t,r=i=n},qr.lineEnd=function(){u(e,r)}}var Rr={point:function(t,n){t<Ar&&(Ar=t);zr<t&&(zr=t);n<Cr&&(Cr=n);Lr<n&&(Lr=n)},lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w};function Dr(){var e=Pr(4.5),r=[],a={point:t,lineStart:function(){a.point=n},lineEnd:u,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(t){return e=Pr(t),a},result:function(){if(r.length){var t=r.join("");return r=[],t}}};function t(t,n){r.push("M",t,",",n,e)}function n(t,n){r.push("M",t,",",n),a.point=i}function i(t,n){r.push("L",t,",",n)}function u(){a.point=t}function o(){r.push("Z")}return a}function Pr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var jr,Or={point:Hr,lineStart:Ur,lineEnd:Vr,polygonStart:function(){Or.lineStart=Fr},polygonEnd:function(){Or.point=Hr,Or.lineStart=Ur,Or.lineEnd=Vr}};function Hr(t,n){Ae+=t,Ce+=n,++ze}function Ur(){var i,u;function e(t,n){var e=t-i,r=n-u,a=Math.sqrt(e*e+r*r);Le+=a*(i+t)/2,qe+=a*(u+n)/2,Te+=a,Hr(i=t,u=n)}Or.point=function(t,n){Or.point=e,Hr(i=t,u=n)}}function Vr(){Or.point=Hr}function Fr(){var e,r,i,u;function a(t,n){var e=t-i,r=n-u,a=Math.sqrt(e*e+r*r);Le+=a*(i+t)/2,qe+=a*(u+n)/2,Te+=a,Re+=(a=u*t-i*n)*(i+t),De+=a*(u+n),Pe+=3*a,Hr(i=t,u=n)}Or.point=function(t,n){Or.point=a,Hr(e=i=t,r=u=n)},Or.lineEnd=function(){a(e,r)}}function Yr(e){var r=4.5,a={point:t,lineStart:function(){a.point=n},lineEnd:u,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(t){return r=t,a},result:w};function t(t,n){e.moveTo(t,n),e.arc(t,n,r,0,pt)}function n(t,n){e.moveTo(t,n),a.point=i}function i(t,n){e.lineTo(t,n)}function u(){a.point=t}function o(){e.closePath()}return a}function Ir(C){var z=.5,L=Math.cos(30*mt),M=16;function n(t){return(M?function(a){var e,r,i,u,o,f,c,l,s,h,d,g,p={point:t,lineStart:n,lineEnd:v,polygonStart:function(){a.polygonStart(),p.lineStart=y},polygonEnd:function(){a.polygonEnd(),p.lineStart=n}};function t(t,n){t=C(t,n),a.point(t[0],t[1])}function n(){l=NaN,p.point=b,a.lineStart()}function b(t,n){var e=Ue([t,n]),r=C(t,n);q(l,s,c,h,d,g,l=r[0],s=r[1],c=t,h=e[0],d=e[1],g=e[2],M,a),a.point(l,s)}function v(){p.point=t,a.lineEnd()}function y(){n(),p.point=m,p.lineEnd=x}function m(t,n){b(e=t,n),r=l,i=s,u=h,o=d,f=g,p.point=b}function x(){q(l,s,c,h,d,g,r,i,e,u,o,f,M,a),p.lineEnd=v,v()}return p}:function(e){return Br(e,function(t,n){t=C(t,n),e.point(t[0],t[1])})})(t)}function q(t,n,e,r,a,i,u,o,f,c,l,s,h,d){var g,p,b,v,y,m,x,M,_,w,k,S,E=u-t,N=o-n,A=E*E+N*N;4*z<A&&h--&&(g=r+c,p=a+l,b=i+s,v=Math.sqrt(g*g+p*p+b*b),y=Math.asin(b/=v),m=T(T(b)-1)<vt||T(e-f)<vt?(e+f)/2:Math.atan2(p,g),M=(x=C(m,y))[0],_=x[1],(z<(S=N*(w=M-t)-E*(k=_-n))*S/A||.3<T((E*w+N*k)/A-.5)||r*c+a*l+i*s<L)&&(q(t,n,e,r,a,i,M,_,m,g/=v,p/=v,b,h,d),d.point(M,_),q(M,_,m,g,p,b,u,o,f,c,l,s,h,d)))}return n.precision=function(t){return arguments.length?(M=0<(z=t*t)&&16,n):Math.sqrt(z)},n}function Zr(t){this.stream=t}function Br(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Gr(t){return Xr(function(){return t})()}function Xr(t){var e,n,r,a,i,u,o=Ir(function(t,n){return[(t=e(t,n))[0]*f+a,i-t[1]*f]}),f=150,c=480,l=250,s=0,h=0,d=0,g=0,p=0,b=yr,v=hn,y=null,m=null;function x(t){return[(t=r(t[0]*mt,t[1]*mt))[0]*f+a,i-t[1]*f]}function M(t){return(t=r.invert((t[0]-a)/f,(i-t[1])/f))&&[t[0]*xt,t[1]*xt]}function _(){r=wr(n=Kr(d,g,p),e);var t=e(s,h);return a=c-t[0]*f,i=l+t[1]*f,w()}function w(){return u&&(u.valid=!1,u=null),x}return x.stream=function(t){return u&&(u.valid=!1),(u=$r(b(n,o(v(t))))).valid=!0,u},x.clipAngle=function(t){return arguments.length?(b=null==t?(y=t,yr):mr((y=+t)*mt),w()):y},x.clipExtent=function(t){return arguments.length?(v=(m=t)?_r(t[0][0],t[0][1],t[1][0],t[1][1]):hn,w()):m},x.scale=function(t){return arguments.length?(f=+t,_()):f},x.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],_()):[c,l]},x.center=function(t){return arguments.length?(s=t[0]%360*mt,h=t[1]%360*mt,_()):[s*xt,h*xt]},x.rotate=function(t){return arguments.length?(d=t[0]%360*mt,g=t[1]%360*mt,p=2<t.length?t[2]%360*mt:0,_()):[d*xt,g*xt,p*xt]},L.rebind(x,o,"precision"),function(){return e=t.apply(this,arguments),x.invert=e.invert&&M,_()}}function $r(e){return Br(e,function(t,n){e.point(t*mt,n*mt)})}function Wr(t,n){return[t,n]}function Jr(t,n){return[gt<t?t-pt:t<-gt?t+pt:t,n]}function Kr(t,n,e){return t?n||e?wr(ta(t),na(n,e)):ta(t):n||e?na(n,e):Jr}function Qr(e){return function(t,n){return[gt<(t+=e)?t-pt:t<-gt?t+pt:t,n]}}function ta(t){var n=Qr(t);return n.invert=Qr(-t),n}function na(t,n){var o=Math.cos(t),f=Math.sin(t),c=Math.cos(n),l=Math.sin(n);function e(t,n){var e=Math.cos(n),r=Math.cos(t)*e,a=Math.sin(t)*e,i=Math.sin(n),u=i*o+r*f;return[Math.atan2(a*c-u*l,r*o-i*f),kt(u*c+a*l)]}return e.invert=function(t,n){var e=Math.cos(n),r=Math.cos(t)*e,a=Math.sin(t)*e,i=Math.sin(n),u=i*c-a*l;return[Math.atan2(a*c+i*l,r*o+u*f),kt(u*o-r*f)]},e}function ea(o,f){var c=Math.cos(o),l=Math.sin(o);return function(t,n,e,r){var a=e*f;null!=t?(t=ra(c,t),n=ra(c,n),(0<e?t<n:n<t)&&(t+=e*pt)):(t=o+e*pt,n=o-.5*a);for(var i,u=t;0<e?n<u:u<n;u-=a)r.point((i=Be([c,-l*Math.cos(u),-l*Math.sin(u)]))[0],i[1])}}function ra(t,n){var e=Ue(n);e[0]-=t,Ze(e);var r=wt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-vt)%(2*Math.PI)}function aa(t,n,e){var r=L.range(t,n-vt,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function ia(t,n,e){var r=L.range(t,n-vt,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function ua(t){return t.source}function oa(t){return t.target}L.geo.path=function(){var r,n,a,e,i,u=4.5;function o(t){return t&&("function"==typeof u&&e.pointRadius(+u.apply(this,arguments)),i&&i.valid||(i=a(e)),L.geo.stream(t,i)),e.result()}function f(){return i=null,o}return o.area=function(t){return Er=0,L.geo.stream(t,a(qr)),Er},o.centroid=function(t){return Ae=Ce=ze=Le=qe=Te=Re=De=Pe=0,L.geo.stream(t,a(Or)),Pe?[Re/Pe,De/Pe]:Te?[Le/Te,qe/Te]:ze?[Ae/ze,Ce/ze]:[NaN,NaN]},o.bounds=function(t){return zr=Lr=-(Ar=Cr=1/0),L.geo.stream(t,a(Rr)),[[Ar,Cr],[zr,Lr]]},o.projection=function(t){return arguments.length?(a=(r=t)?t.stream||(e=t,n=Ir(function(t,n){return e([t*xt,n*xt])}),function(t){return $r(n(t))}):hn,f()):r;var e,n},o.context=function(t){return arguments.length?(e=null==(n=t)?new Dr:new Yr(t),"function"!=typeof u&&e.pointRadius(u),f()):n},o.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(e.pointRadius(+t),+t),o):u},o.projection(L.geo.albersUsa()).context(null)},L.geo.transform=function(r){return{stream:function(t){var n=new Zr(t);for(var e in r)n[e]=r[e];return n}}},Zr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},L.geo.projection=Gr,L.geo.projectionMutator=Xr,(L.geo.equirectangular=function(){return Gr(Wr)}).raw=Wr.invert=Wr,L.geo.rotation=function(n){function t(t){return(t=n(t[0]*mt,t[1]*mt))[0]*=xt,t[1]*=xt,t}return n=Kr(n[0]%360*mt,n[1]*mt,2<n.length?n[2]*mt:0),t.invert=function(t){return(t=n.invert(t[0]*mt,t[1]*mt))[0]*=xt,t[1]*=xt,t},t},Jr.invert=Wr,L.geo.circle=function(){var n,a,i=[0,0],e=6;function r(){var t="function"==typeof i?i.apply(this,arguments):i,e=Kr(-t[0]*mt,-t[1]*mt,0).invert,r=[];return a(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=xt,t[1]*=xt}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(i=t,r):i},r.angle=function(t){return arguments.length?(a=ea((n=+t)*mt,e*mt),r):n},r.precision=function(t){return arguments.length?(a=ea(n*mt,(e=+t)*mt),r):e},r.angle(90)},L.geo.distance=function(t,n){var e,r=(n[0]-t[0])*mt,a=t[1]*mt,i=n[1]*mt,u=Math.sin(r),o=Math.cos(r),f=Math.sin(a),c=Math.cos(a),l=Math.sin(i),s=Math.cos(i);return Math.atan2(Math.sqrt((e=s*u)*e+(e=c*l-f*s*o)*e),f*l+c*s*o)},L.geo.graticule=function(){var n,e,r,a,i,u,o,f,c,l,s,h,d=10,g=d,p=90,b=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return L.range(Math.ceil(a/p)*p,r,p).map(s).concat(L.range(Math.ceil(f/b)*b,o,b).map(h)).concat(L.range(Math.ceil(e/d)*d,n,d).filter(function(t){return T(t%p)>vt}).map(c)).concat(L.range(Math.ceil(u/g)*g,i,g).filter(function(t){return T(t%b)>vt}).map(l))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[s(a).concat(h(o).slice(1),s(r).reverse().slice(1),h(f).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(a=+t[0][0],r=+t[1][0],f=+t[0][1],o=+t[1][1],r<a&&(t=a,a=r,r=t),o<f&&(t=f,f=o,o=t),y.precision(v)):[[a,f],[r,o]]},y.minorExtent=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],u=+t[0][1],i=+t[1][1],n<e&&(t=e,e=n,n=t),i<u&&(t=u,u=i,i=t),y.precision(v)):[[e,u],[n,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(p=+t[0],b=+t[1],y):[p,b]},y.minorStep=function(t){return arguments.length?(d=+t[0],g=+t[1],y):[d,g]},y.precision=function(t){return arguments.length?(v=+t,c=aa(u,i,90),l=ia(e,n,v),s=aa(f,o,90),h=ia(a,r,v),y):v},y.majorExtent([[-180,-90+vt],[180,90-vt]]).minorExtent([[-180,-80-vt],[180,80+vt]])},L.geo.greatArc=function(){var n,e,r=ua,a=oa;function i(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||a.apply(this,arguments)]}}return i.distance=function(){return L.geo.distance(n||r.apply(this,arguments),e||a.apply(this,arguments))},i.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,i):r},i.target=function(t){return arguments.length?(e="function"==typeof(a=t)?null:t,i):a},i.precision=function(){return arguments.length?i:0},i},L.geo.interpolate=function(t,n){return e=t[0]*mt,r=t[1]*mt,a=n[0]*mt,i=n[1]*mt,u=Math.cos(r),o=Math.sin(r),f=Math.cos(i),c=Math.sin(i),l=u*Math.cos(e),s=u*Math.sin(e),h=f*Math.cos(a),d=f*Math.sin(a),g=2*Math.asin(Math.sqrt(Et(i-r)+u*f*Et(a-e))),p=1/Math.sin(g),(b=g?function(t){var n=Math.sin(t*=g)*p,e=Math.sin(g-t)*p,r=e*l+n*h,a=e*s+n*d,i=e*o+n*c;return[Math.atan2(a,r)*xt,Math.atan2(i,Math.sqrt(r*r+a*a))*xt]}:function(){return[e*xt,r*xt]}).distance=g,b;var e,r,a,i,u,o,f,c,l,s,h,d,g,p,b},L.geo.length=function(t){return jr=0,L.geo.stream(t,fa),jr};var fa={sphere:w,point:w,lineStart:function(){var u,o,f;function e(t,n){var e=Math.sin(n*=mt),r=Math.cos(n),a=T((t*=mt)-u),i=Math.cos(a);jr+=Math.atan2(Math.sqrt((a=r*Math.sin(a))*a+(a=f*e-o*r*i)*a),o*e+f*r*i),u=t,o=e,f=r}fa.point=function(t,n){u=t*mt,o=Math.sin(n*=mt),f=Math.cos(n),fa.point=e},fa.lineEnd=function(){fa.point=fa.lineEnd=w}},lineEnd:w,polygonStart:w,polygonEnd:w};function ca(i,u){function t(t,n){var e=Math.cos(t),r=Math.cos(n),a=i(e*r);return[a*r*Math.sin(t),a*Math.sin(n)]}return t.invert=function(t,n){var e=Math.sqrt(t*t+n*n),r=u(e),a=Math.sin(r),i=Math.cos(r);return[Math.atan2(t*a,e*i),Math.asin(e&&n*a/e)]},t}var la=ca(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(L.geo.azimuthalEqualArea=function(){return Gr(la)}).raw=la;var sa=ca(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},hn);function ha(t,n){function r(t){return Math.tan(gt/4+t/2)}var e=Math.cos(t),a=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),i=e*Math.pow(r(t),a)/a;if(!a)return pa;function u(t,n){var e=T(T(n)-bt)<vt?0:i/Math.pow(r(n),a);return[e*Math.sin(a*t),i-e*Math.cos(a*t)]}return u.invert=function(t,n){var e=i-n,r=Mt(a)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/a,2*Math.atan(Math.pow(i/r,1/a))-bt]},u}function da(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),a=e/r+t;if(T(r)<vt)return Wr;function i(t,n){var e=a-n;return[e*Math.sin(r*t),a-e*Math.cos(r*t)]}return i.invert=function(t,n){var e=a-n;return[Math.atan2(t,e)/r,a-Mt(r)*Math.sqrt(t*t+e*e)]},i}(L.geo.azimuthalEquidistant=function(){return Gr(sa)}).raw=sa,(L.geo.conicConformal=function(){return kr(ha)}).raw=ha,(L.geo.conicEquidistant=function(){return kr(da)}).raw=da;var ga=ca(function(t){return 1/t},Math.atan);function pa(t,n){return[t,Math.log(Math.tan(gt/4+n/2))]}function ba(t){var a,i=Gr(t),u=i.scale,o=i.translate,f=i.clipExtent;return i.scale=function(){var t=u.apply(i,arguments);return t===i?a?i.clipExtent(null):i:t},i.translate=function(){var t=o.apply(i,arguments);return t===i?a?i.clipExtent(null):i:t},i.clipExtent=function(t){var n,e,r=f.apply(i,arguments);return r===i?(a=null==t)&&(n=gt*u(),e=o(),f([[e[0]-n,e[1]-n],[e[0]+n,e[1]+n]])):a&&(r=null),r},i.clipExtent(null)}(L.geo.gnomonic=function(){return Gr(ga)}).raw=ga,pa.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-bt]},(L.geo.mercator=function(){return ba(pa)}).raw=pa;var va=ca(function(){return 1},Math.asin);(L.geo.orthographic=function(){return Gr(va)}).raw=va;var ya=ca(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ma(t,n){return[Math.log(Math.tan(gt/4+n/2)),-t]}function xa(t){return t[0]}function Ma(t){return t[1]}function _a(t){for(var n=t.length,e=[0,1],r=2,a=2;a<n;a++){for(;1<r&&_t(t[e[r-2]],t[e[r-1]],t[a])<=0;)--r;e[r++]=a}return e.slice(0,r)}function wa(t,n){return t[0]-n[0]||t[1]-n[1]}(L.geo.stereographic=function(){return Gr(ya)}).raw=ya,ma.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-bt]},(L.geo.transverseMercator=function(){var t=ba(ma),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[-(t=n())[1],t[0]]},t.rotate=function(t){return t?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},t.rotate([0,0])}).raw=ma,L.geom={},L.geom.hull=function(t){var h=xa,d=Ma;if(arguments.length)return n(t);function n(t){if(t.length<3)return[];for(var n=sn(h),e=sn(d),r=t.length,a=[],i=[],u=0;u<r;u++)a.push([+n.call(this,t[u],u),+e.call(this,t[u],u),u]);for(a.sort(wa),u=0;u<r;u++)i.push([a[u][0],-a[u][1]]);var o=_a(a),f=_a(i),c=f[0]===o[0],l=f[f.length-1]===o[o.length-1],s=[];for(u=o.length-1;0<=u;--u)s.push(t[a[o[u]][2]]);for(u=+c;u<f.length-l;++u)s.push(t[a[f[u]][2]]);return s}return n.x=function(t){return arguments.length?(h=t,n):h},n.y=function(t){return arguments.length?(d=t,n):d},n},L.geom.polygon=function(t){return A(t,ka),t};var ka=L.geom.polygon.prototype=[];function Sa(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Ea(t,n,e,r){var a=t[0],i=e[0],u=n[0]-a,o=r[0]-i,f=t[1],c=e[1],l=n[1]-f,s=r[1]-c,h=(o*(f-c)-s*(a-i))/(s*u-o*l);return[a+h*u,f+h*l]}function Na(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}ka.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],a=0;++n<e;)t=r,r=this[n],a+=t[1]*r[0]-t[0]*r[1];return.5*a},ka.centroid=function(t){var n,e,r=-1,a=this.length,i=0,u=0,o=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)n=o,o=this[r],e=n[0]*o[1]-o[0]*n[1],i+=(n[0]+o[0])*e,u+=(n[1]+o[1])*e;return[i*t,u*t]},ka.clip=function(t){for(var n,e,r,a,i,u,o=Na(t),f=-1,c=this.length-Na(this),l=this[c-1];++f<c;){for(n=t.slice(),t.length=0,a=this[f],i=n[(r=n.length-o)-1],e=-1;++e<r;)Sa(u=n[e],l,a)?(Sa(i,l,a)||t.push(Ea(i,u,l,a)),t.push(u)):Sa(i,l,a)&&t.push(Ea(i,u,l,a)),i=u;o&&t.push(t[0]),l=a}return t};var Aa,Ca,za,La,qa,Ta=[],Ra=[];function Da(){Ka(this),this.edge=this.site=this.circle=null}function Pa(t){var n=Ta.pop()||new Da;return n.site=t,n}function ja(t){Za(t),za.remove(t),Ta.push(t),Ka(t)}function Oa(t){for(var n,e,r,a,i=t.x,u=t.y,o=za._;o;)if(r=Ha(o,u)-i,vt<r)o=o.L;else{if(a=i-function(t,n){var e=t.N;if(e)return Ha(e,n);var r=t.site;return r.y===n?r.x:1/0}(o,u),!(vt<a)){-vt<r?(n=o.P,e=o):-vt<a?e=(n=o).N:n=e=o;break}if(!o.R){n=o;break}o=o.R}var f,c,l,s,h,d,g,p,b,v,y,m,x=Pa(t);if(za.insert(n,x),n||e){if(n===e)return Za(n),e=Pa(n.site),za.insert(x,e),x.edge=e.edge=Xa(n.site,x.site),Ia(n),void Ia(e);e?(Za(n),Za(e),c=(f=n.site).x,l=f.y,s=t.x-c,h=t.y-l,g=(d=e.site).x-c,m={x:((p=d.y-l)*(v=s*s+h*h)-h*(y=g*g+p*p))/(b=2*(s*p-h*g))+c,y:(s*y-g*v)/b+l},$a(e.edge,f,d,m),x.edge=Xa(f,t,null,m),e.edge=Xa(t,d,null,m),Ia(n),Ia(e)):x.edge=Xa(n.site,x.site)}}function Ha(t,n){var e=t.site,r=e.x,a=e.y,i=a-n;if(!i)return r;var u=t.P;if(!u)return-1/0;var o=(e=u.site).x,f=e.y,c=f-n;if(!c)return o;var l=o-r,s=1/i-1/c,h=l/c;return s?(-h+Math.sqrt(h*h-2*s*(l*l/(-2*c)-f+c/2+a-i/2)))/s+r:(r+o)/2}function Ua(t){this.site=t,this.edges=[]}function Va(t){for(var n,e,r,a,i,u,o,f,c,l,s,h,d,g,p=t[0][0],b=t[1][0],v=t[0][1],y=t[1][1],m=Ca,x=m.length;x--;)if((i=m[x])&&i.prepare())for(f=(o=i.edges).length,u=0;u<f;)r=(l=o[u].end()).x,a=l.y,n=(c=o[++u%f].start()).x,e=c.y,(T(r-n)>vt||T(a-e)>vt)&&(o.splice(u,0,new Wa((s=i.site,h=l,d=T(r-p)<vt&&vt<y-a?{x:p,y:T(n-p)<vt?e:y}:T(a-y)<vt&&vt<b-r?{x:T(e-y)<vt?n:b,y:y}:T(r-b)<vt&&vt<a-v?{x:b,y:T(n-b)<vt?e:v}:T(a-v)<vt&&vt<r-p?{x:T(e-v)<vt?n:p,y:v}:null,g=void 0,(g=new Ga(s,null)).a=h,g.b=d,Aa.push(g),g),i.site,null)),++f)}function Fa(t,n){return n.angle-t.angle}function Ya(){Ka(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ia(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,a=t.site,i=e.site;if(r!==i){var u=a.x,o=a.y,f=r.x-u,c=r.y-o,l=i.x-u,s=2*(f*(b=i.y-o)-c*l);if(!(-yt<=s)){var h=f*f+c*c,d=l*l+b*b,g=(b*h-c*d)/s,p=(f*d-l*h)/s,b=p+o,v=Ra.pop()||new Ya;v.arc=t,v.site=a,v.x=g+u,v.y=b+Math.sqrt(g*g+p*p),v.cy=b,t.circle=v;for(var y=null,m=qa._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}qa.insert(y,v),y||(La=v)}}}}function Za(t){var n=t.circle;n&&(n.P||(La=n.N),qa.remove(n),Ra.push(n),Ka(n),t.circle=null)}function Ba(t){for(var n,e=Aa,r=xr(t[0][0],t[0][1],t[1][0],t[1][1]),a=e.length;a--;)(function(t,n){var e=t.b;if(e)return!0;var r,a,i=t.a,u=n[0][0],o=n[1][0],f=n[0][1],c=n[1][1],l=t.l,s=t.r,h=l.x,d=l.y,g=s.x,p=s.y,b=(h+g)/2,v=(d+p)/2;if(p===d){if(b<u||o<=b)return;if(g<h){if(i){if(i.y>=c)return}else i={x:b,y:f};e={x:b,y:c}}else{if(i){if(i.y<f)return}else i={x:b,y:c};e={x:b,y:f}}}else if(a=v-(r=(h-g)/(p-d))*b,r<-1||1<r)if(g<h){if(i){if(i.y>=c)return}else i={x:(f-a)/r,y:f};e={x:(c-a)/r,y:c}}else{if(i){if(i.y<f)return}else i={x:(c-a)/r,y:c};e={x:(f-a)/r,y:f}}else if(d<p){if(i){if(i.x>=o)return}else i={x:u,y:r*u+a};e={x:o,y:r*o+a}}else{if(i){if(i.x<u)return}else i={x:o,y:r*o+a};e={x:u,y:r*u+a}}return t.a=i,t.b=e,!0})(n=e[a],t)&&r(n)&&!(T(n.a.x-n.b.x)<vt&&T(n.a.y-n.b.y)<vt)||(n.a=n.b=null,e.splice(a,1))}function Ga(t,n){this.l=t,this.r=n,this.a=this.b=null}function Xa(t,n,e,r){var a=new Ga(t,n);return Aa.push(a),e&&$a(a,t,n,e),r&&$a(a,n,t,r),Ca[t.i].edges.push(new Wa(a,t,n)),Ca[n.i].edges.push(new Wa(a,n,t)),a}function $a(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function Wa(t,n,e){var r=t.a,a=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function Ja(){this._=null}function Ka(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Qa(t,n){var e=n,r=n.R,a=e.U;a?a.L===e?a.L=r:a.R=r:t._=r,r.U=a,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ti(t,n){var e=n,r=n.L,a=e.U;a?a.L===e?a.L=r:a.R=r:t._=r,r.U=a,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ni(t){for(;t.L;)t=t.L;return t}function ei(t,n){var e,r,a,i=t.sort(ri).pop();for(Aa=[],Ca=new Array(t.length),za=new Ja,qa=new Ja;;)if(a=La,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===e&&i.y===r||(Ca[i.i]=new Ua(i),Oa(i),e=i.x,r=i.y),i=t.pop();else{if(!a)break;!function(t){var n=t.circle,e=n.x,r=n.cy,a={x:e,y:r},i=t.P,u=t.N,o=[t];ja(t);for(var f=i;f.circle&&T(e-f.circle.x)<vt&&T(r-f.circle.cy)<vt;)i=f.P,o.unshift(f),ja(f),f=i;o.unshift(f),Za(f);for(var c=u;c.circle&&T(e-c.circle.x)<vt&&T(r-c.circle.cy)<vt;)u=c.N,o.push(c),ja(c),c=u;o.push(c),Za(c);for(var l=o.length,s=1;s<l;++s)c=o[s],f=o[s-1],$a(c.edge,f.site,c.site,a);f=o[0],(c=o[l-1]).edge=Xa(f.site,c.site,null,a),Ia(f),Ia(c)}(a.arc)}n&&(Ba(n),Va(n));var u={cells:Ca,edges:Aa};return za=qa=Aa=Ca=null,u}function ri(t,n){return n.y-t.y||n.x-t.x}Ua.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(Fa),n.length},Wa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ja.prototype={insert:function(t,n){var e,r,a;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else e=this._?(t=ni(this._),n.P=null,(n.N=t).P=t.L=n,t):(n.P=n.N=null,this._=n,null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(a=r.R)&&a.C?(e.C=a.C=!1,r.C=!0,t=r):(t===e.R&&(Qa(this,e),e=(t=e).U),e.C=!1,r.C=!0,ti(this,r)):(a=r.L)&&a.C?(e.C=a.C=!1,r.C=!0,t=r):(t===e.L&&(ti(this,e),e=(t=e).U),e.C=!1,r.C=!0,Qa(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r=t.U,a=t.L,i=t.R,u=a?i?ni(i):a:i;if(r?r.L===t?r.L=u:r.R=u:this._=u,a&&i?(e=u.C,u.C=t.C,((u.L=a).U=u)!==i?(r=u.U,u.U=t.U,t=u.R,r.L=t,(u.R=i).U=u):(u.U=r,t=(r=u).R)):(e=t.C,t=u),t&&(t.U=r),!e)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((n=r.R).C&&(n.C=!1,r.C=!0,Qa(this,r),n=r.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ti(this,n),n=r.R),n.C=r.C,r.C=n.R.C=!1,Qa(this,r),t=this._;break}}else if((n=r.L).C&&(n.C=!1,r.C=!0,ti(this,r),n=r.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Qa(this,n),n=r.L),n.C=r.C,r.C=n.L.C=!1,ti(this,r),t=this._;break}n.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},L.geom.voronoi=function(t){var n=xa,e=Ma,r=n,a=e,l=ai;if(t)return i(t);function i(a){var i=new Array(a.length),u=l[0][0],o=l[0][1],f=l[1][0],c=l[1][1];return ei(s(a),l).cells.forEach(function(t,n){var e=t.edges,r=t.site;(i[n]=e.length?e.map(function(t){var n=t.start();return[n.x,n.y]}):r.x>=u&&r.x<=f&&r.y>=o&&r.y<=c?[[u,c],[f,c],[f,o],[u,o]]:[]).point=a[n]}),i}function s(t){return t.map(function(t,n){return{x:Math.round(r(t,n)/vt)*vt,y:Math.round(a(t,n)/vt)*vt,i:n}})}return i.links=function(n){return ei(s(n)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},i.triangles=function(h){var d=[];return ei(s(h)).cells.forEach(function(t,n){for(var e,r,a,i,u=t.site,o=t.edges.sort(Fa),f=-1,c=o.length,l=o[c-1].edge,s=l.l===u?l.r:l.l;++f<c;)e=s,s=(l=o[f].edge).l===u?l.r:l.l,n<e.i&&n<s.i&&(a=e,i=s,((r=u).x-i.x)*(a.y-r.y)-(r.x-a.x)*(i.y-r.y)<0)&&d.push([h[n],h[e.i],h[s.i]])}),d},i.x=function(t){return arguments.length?(r=sn(n=t),i):n},i.y=function(t){return arguments.length?(a=sn(e=t),i):e},i.clipExtent=function(t){return arguments.length?(l=null==t?ai:t,i):l===ai?null:l},i.size=function(t){return arguments.length?i.clipExtent(t&&[[0,0],t]):l===ai?null:l&&l[1]},i};var ai=[[-1e6,-1e6],[1e6,1e6]];function ii(t){return t.x}function ui(t){return t.y}function oi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fi(t,n){t=L.rgb(t),n=L.rgb(n);var e=t.r,r=t.g,a=t.b,i=n.r-e,u=n.g-r,o=n.b-a;return function(t){return"#"+rn(Math.round(e+i*t))+rn(Math.round(r+u*t))+rn(Math.round(a+o*t))}}function ci(t,n){var e,r={},a={};for(e in t)e in n?r[e]=di(t[e],n[e]):a[e]=t[e];for(e in n)e in t||(a[e]=n[e]);return function(t){for(e in r)a[e]=r[e](t);return a}}function li(n,e){return e-=n=+n,function(t){return n+e*t}}function si(t,n){var e,r,a,i,u,o=0,f=[],c=[];for(t+="",n+="",hi.lastIndex=0,r=0;e=hi.exec(n);++r)e.index&&f.push(n.substring(o,e.index)),c.push({i:f.length,x:e[0]}),f.push(null),o=hi.lastIndex;for(o<n.length&&f.push(n.substring(o)),r=0,i=c.length;(e=hi.exec(t))&&r<i;++r)if((u=c[r]).x==e[0]){if(u.i)if(null==f[u.i+1])for(f[u.i-1]+=u.x,f.splice(u.i,1),a=r+1;a<i;++a)c[a].i--;else for(f[u.i-1]+=u.x+f[u.i+1],f.splice(u.i,2),a=r+1;a<i;++a)c[a].i-=2;else if(null==f[u.i+1])f[u.i]=u.x;else for(f[u.i]=u.x+f[u.i+1],f.splice(u.i+1,1),a=r+1;a<i;++a)c[a].i--;c.splice(r,1),i--,r--}else u.x=li(parseFloat(e[0]),parseFloat(u.x));for(;r<i;)u=c.pop(),null==f[u.i+1]?f[u.i]=u.x:(f[u.i]=u.x+f[u.i+1],f.splice(u.i+1,1)),i--;return 1===f.length?null==f[0]?(u=c[0].x,function(t){return u(t)+""}):function(){return n}:function(t){for(r=0;r<i;++r)f[(u=c[r]).i]=u.x(t);return f.join("")}}L.geom.delaunay=function(t){return L.geom.voronoi().triangles(t)},L.geom.quadtree=function(t,m,x,M,_){var w,k=xa,S=Ma;if(w=arguments.length)return k=ii,S=ui,3===w&&(_=x,M=m,x=m=0),n(t);function n(t){var n,e,r,a,i,u,o,f,c,l=sn(k),s=sn(S);if(null!=m)u=m,o=x,f=M,c=_;else if(f=c=-(u=o=1/0),e=[],r=[],i=t.length,w)for(a=0;a<i;++a)(n=t[a]).x<u&&(u=n.x),n.y<o&&(o=n.y),n.x>f&&(f=n.x),n.y>c&&(c=n.y),e.push(n.x),r.push(n.y);else for(a=0;a<i;++a){var h=+l(n=t[a],a),d=+s(n,a);h<u&&(u=h),d<o&&(o=d),f<h&&(f=h),c<d&&(c=d),e.push(h),r.push(d)}var g=f-u,p=c-o;function b(t,n,e,r,a,i,u,o){var f,c,l;isNaN(e)||isNaN(r)||(t.leaf?(f=t.x,c=t.y,null!=f?(T(f-e)+T(c-r)<.01||(l=t.point,t.x=t.y=t.point=null,v(t,l,f,c,a,i,u,o)),v(t,n,e,r,a,i,u,o)):(t.x=e,t.y=r,t.point=n)):v(t,n,e,r,a,i,u,o))}function v(t,n,e,r,a,i,u,o){var f=.5*(a+u),c=.5*(i+o),l=f<=e,s=c<=r,h=(s<<1)+l;t.leaf=!1,l?a=f:u=f,s?i=c:o=c,b(t=t.nodes[h]||(t.nodes[h]=oi()),n,e,r,a,i,u,o)}p<g?c=o+g:f=u+p;var y=oi();if(y.add=function(t){b(y,t,+l(t,++a),+s(t,a),u,o,f,c)},y.visit=function(t){!function t(n,e,r,a,i,u){{var o,f,c;n(e,r,a,i,u)||(o=.5*(r+i),f=.5*(a+u),(c=e.nodes)[0]&&t(n,c[0],r,a,o,f),c[1]&&t(n,c[1],o,a,i,f),c[2]&&t(n,c[2],r,f,o,u),c[3]&&t(n,c[3],o,f,i,u))}}(t,y,u,o,f,c)},a=-1,null==m){for(;++a<i;)b(y,t[a],e[a],r[a],u,o,f,c);--a}else t.forEach(y.add);return e=r=t=n=null,y}return n.x=function(t){return arguments.length?(k=t,n):k},n.y=function(t){return arguments.length?(S=t,n):S},n.extent=function(t){return arguments.length?(null==t?m=x=M=_=null:(m=+t[0][0],x=+t[0][1],M=+t[1][0],_=+t[1][1]),n):null==m?null:[[m,x],[M,_]]},n.size=function(t){return arguments.length?(null==t?m=x=M=_=null:(m=x=0,M=+t[0],_=+t[1]),n):null==m?null:[M-m,_-x]},n},L.interpolateRgb=fi,L.interpolateObject=ci,L.interpolateNumber=li,L.interpolateString=si;var hi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function di(t,n){for(var e,r=L.interpolators.length;0<=--r&&!(e=L.interpolators[r](t,n)););return e}function gi(t,n){for(var e=[],r=[],a=t.length,i=n.length,u=Math.min(t.length,n.length),o=0;o<u;++o)e.push(di(t[o],n[o]));for(;o<a;++o)r[o]=t[o];for(;o<i;++o)r[o]=n[o];return function(t){for(o=0;o<u;++o)r[o]=e[o](t);return r}}L.interpolate=di,L.interpolators=[function(t,n){var e=typeof n;return("string"==e?ln.has(n)||/^(#|rgb\(|hsl\()/.test(n)?fi:si:n instanceof Lt?fi:"object"==e?Array.isArray(n)?gi:ci:li)(t,n)}],L.interpolateArray=gi;function pi(){return hn}var bi=L.map({linear:pi,poly:function(n){return function(t){return Math.pow(t,n)}},quad:function(){return xi},cubic:function(){return Mi},sin:function(){return wi},exp:function(){return ki},circle:function(){return Si},elastic:function(n,e){var r;arguments.length<2&&(e=.45);r=arguments.length?e/pt*Math.asin(1/n):(n=1,e/4);return function(t){return 1+n*Math.pow(2,-10*t)*Math.sin((t-r)*pt/e)}},back:function(n){n=n||1.70158;return function(t){return t*t*((n+1)*t-n)}},bounce:function(){return Ei}}),vi=L.map({in:hn,out:yi,"in-out":mi,"out-in":function(t){return mi(yi(t))}});function yi(n){return function(t){return 1-n(1-t)}}function mi(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function xi(t){return t*t}function Mi(t){return t*t*t}function _i(t){if(t<=0)return 0;if(1<=t)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function wi(t){return 1-Math.cos(t*bt)}function ki(t){return Math.pow(2,10*(t-1))}function Si(t){return 1-Math.sqrt(1-t*t)}function Ei(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ni(n,e){return e-=n,function(t){return Math.round(n+e*t)}}function Ai(t){var n,e,r,a=[t.a,t.b],i=[t.c,t.d],u=zi(a),o=Ci(a,i),f=zi(((n=i)[0]+=(r=-o)*(e=a)[0],n[1]+=r*e[1],n))||0;a[0]*i[1]<i[0]*a[1]&&(a[0]*=-1,a[1]*=-1,u*=-1,o*=-1),this.rotate=(u?Math.atan2(a[1],a[0]):Math.atan2(-i[0],i[1]))*xt,this.translate=[t.e,t.f],this.scale=[u,f],this.skew=f?Math.atan2(o,f)*xt:0}function Ci(t,n){return t[0]*n[0]+t[1]*n[1]}function zi(t){var n=Math.sqrt(Ci(t,t));return n&&(t[0]/=n,t[1]/=n),n}L.ease=function(t){var n,e=t.indexOf("-"),r=0<=e?t.substring(0,e):t,a=0<=e?t.substring(e+1):"in",r=bi.get(r)||pi,a=vi.get(a)||hn;return n=a(r.apply(null,i.call(arguments,1))),function(t){return t<=0?0:1<=t?1:n(t)}},L.interpolateHcl=function(t,n){t=L.hcl(t),n=L.hcl(n);var e=t.h,r=t.c,a=t.l,i=n.h-e,u=n.c-r,o=n.l-a;isNaN(u)&&(u=0,r=isNaN(r)?n.c:r);isNaN(i)?(i=0,e=isNaN(e)?n.h:e):180<i?i-=360:i<-180&&(i+=360);return function(t){return Ht(e+i*t,r+u*t,a+o*t)+""}},L.interpolateHsl=function(t,n){t=L.hsl(t),n=L.hsl(n);var e=t.h,r=t.s,a=t.l,i=n.h-e,u=n.s-r,o=n.l-a;isNaN(u)&&(u=0,r=isNaN(r)?n.s:r);isNaN(i)?(i=0,e=isNaN(e)?n.h:e):180<i?i-=360:i<-180&&(i+=360);return function(t){return Dt(e+i*t,r+u*t,a+o*t)+""}},L.interpolateLab=function(t,n){t=L.lab(t),n=L.lab(n);var e=t.l,r=t.a,a=t.b,i=n.l-e,u=n.a-r,o=n.b-a;return function(t){return Gt(e+i*t,r+u*t,a+o*t)+""}},L.interpolateRound=Ni,L.transform=function(t){var e=r.createElementNS(L.ns.prefix.svg,"g");return(L.transform=function(t){var n;return null!=t&&(e.setAttribute("transform",t),n=e.transform.baseVal.consolidate()),new Ai(n?n.matrix:Li)})(t)},Ai.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Li={a:1,b:0,c:0,d:1,e:0,f:0};function qi(t,n){var r,a=[],i=[],e=L.transform(t),u=L.transform(n),o=e.translate,f=u.translate,c=e.rotate,l=u.rotate,s=e.skew,h=u.skew,d=e.scale,g=u.scale;return o[0]!=f[0]||o[1]!=f[1]?(a.push("translate(",null,",",null,")"),i.push({i:1,x:li(o[0],f[0])},{i:3,x:li(o[1],f[1])})):f[0]||f[1]?a.push("translate("+f+")"):a.push(""),c!=l?(180<c-l?l+=360:180<l-c&&(c+=360),i.push({i:a.push(a.pop()+"rotate(",null,")")-2,x:li(c,l)})):l&&a.push(a.pop()+"rotate("+l+")"),s!=h?i.push({i:a.push(a.pop()+"skewX(",null,")")-2,x:li(s,h)}):h&&a.push(a.pop()+"skewX("+h+")"),d[0]!=g[0]||d[1]!=g[1]?(r=a.push(a.pop()+"scale(",null,",",null,")"),i.push({i:r-4,x:li(d[0],g[0])},{i:r-2,x:li(d[1],g[1])})):1==g[0]&&1==g[1]||a.push(a.pop()+"scale("+g+")"),r=i.length,function(t){for(var n,e=-1;++e<r;)a[(n=i[e]).i]=n.x(t);return a.join("")}}function Ti(n,e){return e=e-(n=+n)?1/(e-n):0,function(t){return(t-n)*e}}function Ri(n,e){return e=e-(n=+n)?1/(e-n):0,function(t){return Math.max(0,Math.min(1,(t-n)*e))}}function Di(t){for(var n=[],e=t.parent;null!=e;)n.push(t),e=(t=e).parent;return n.push(t),n}function Pi(t){t.fixed|=2}function ji(t){t.fixed&=-7}function Oi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Hi(t){t.fixed&=-5}L.interpolateTransform=qi,L.layout={},L.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(function(t){var n=t.source,e=t.target,r=function(t,n){if(t===n)return t;var e=Di(t),r=Di(n),a=e.pop(),i=r.pop(),u=null;for(;a===i;)u=a,a=e.pop(),i=r.pop();return u}(n,e),a=[n];for(;n!==r;)n=n.parent,a.push(n);var i=a.length;for(;e!==r;)a.splice(i,0,e),e=e.parent;return a}(t[e]));return n}},L.layout.chord=function(){var b,v,y,m,x,M,_,n={},w=0;function t(){var t,n,e,r,a,i={},u=[],o=L.range(m),f=[];for(b=[],v=[],t=0,r=-1;++r<m;){for(n=0,a=-1;++a<m;)n+=y[r][a];u.push(n),f.push(L.range(m)),t+=n}for(x&&o.sort(function(t,n){return x(u[t],u[n])}),M&&f.forEach(function(t,e){t.sort(function(t,n){return M(y[e][t],y[e][n])})}),t=(pt-w*m)/t,n=0,r=-1;++r<m;){for(e=n,a=-1;++a<m;){var c=o[r],l=f[c][a],s=y[c][l],h=n,d=n+=s*t;i[c+"-"+l]={index:c,subindex:l,startAngle:h,endAngle:d,value:s}}v[c]={index:c,startAngle:e,endAngle:n,value:(n-e)/t},n+=w}for(r=-1;++r<m;)for(a=r-1;++a<m;){var g=i[r+"-"+a],p=i[a+"-"+r];(g.value||p.value)&&b.push(g.value<p.value?{source:p,target:g}:{source:g,target:p})}_&&k()}function k(){b.sort(function(t,n){return _((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}return n.matrix=function(t){return arguments.length?(m=(y=t)&&y.length,b=v=null,n):y},n.padding=function(t){return arguments.length?(w=t,b=v=null,n):w},n.sortGroups=function(t){return arguments.length?(x=t,b=v=null,n):x},n.sortSubgroups=function(t){return arguments.length?(M=t,b=null,n):M},n.sortChords=function(t){return arguments.length?(_=t,b&&k(),n):_},n.chords=function(){return b||t(),b},n.groups=function(){return v||t(),v},n},L.layout.force=function(){var t,s,h,d,g,i={},p=L.dispatch("start","tick","end"),b=[1,1],v=.9,u=Ui,l=Vi,y=-30,m=Fi,x=.1,M=.64,_=[],w=[];function n(t){t.px=L.event.x,t.py=L.event.y,i.resume()}return i.tick=function(){if((s*=.99)<.005)return p.end({type:"end",alpha:s=0}),!0;for(var t,n,e,r,a,i,u,o,f=_.length,c=w.length,l=0;l<c;++l)e=(n=w[l]).source,(a=(u=(r=n.target).x-e.x)*u+(o=r.y-e.y)*o)&&(u*=a=s*d[l]*((a=Math.sqrt(a))-h[l])/a,o*=a,r.x-=u*(i=e.weight/(r.weight+e.weight)),r.y-=o*i,e.x+=u*(i=1-i),e.y+=o*i);if((i=s*x)&&(u=b[0]/2,o=b[1]/2,l=-1,i))for(;++l<f;)(n=_[l]).x+=(u-n.x)*i,n.y+=(o-n.y)*i;if(y)for(!function t(n,e,r){var a=0,i=0;n.charge=0;if(!n.leaf)for(var u,o=n.nodes,f=o.length,c=-1;++c<f;)null!=(u=o[c])&&(t(u,e,r),n.charge+=u.charge,a+=u.charge*u.cx,i+=u.charge*u.cy);{var l;n.point&&(n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5),l=e*r[n.point.index],n.charge+=n.pointCharge=l,a+=l*n.point.x,i+=l*n.point.y)}n.cx=a/n.charge;n.cy=i/n.charge}(t=L.geom.quadtree(_),s,g),l=-1;++l<f;)(n=_[l]).fixed||t.visit(function(c){return function(t,n,e,r){if(t.point!==c){var a,i=t.cx-c.x,u=t.cy-c.y,o=r-n,f=i*i+u*u;if(o*o/M<f)return f<m&&(a=t.charge/f,c.px-=i*a,c.py-=u*a),!0;t.point&&f&&f<m&&(a=t.pointCharge/f,c.px-=i*a,c.py-=u*a)}return!t.charge}}(n));for(l=-1;++l<f;)(n=_[l]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*v,n.y-=(n.py-(n.py=n.y))*v);p.tick({type:"tick",alpha:s})},i.nodes=function(t){return arguments.length?(_=t,i):_},i.links=function(t){return arguments.length?(w=t,i):w},i.size=function(t){return arguments.length?(b=t,i):b},i.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,i):u},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(l="function"==typeof t?t:+t,i):l},i.friction=function(t){return arguments.length?(v=+t,i):v},i.charge=function(t){return arguments.length?(y="function"==typeof t?t:+t,i):y},i.chargeDistance=function(t){return arguments.length?(m=t*t,i):Math.sqrt(m)},i.gravity=function(t){return arguments.length?(x=+t,i):x},i.theta=function(t){return arguments.length?(M=t*t,i):Math.sqrt(M)},i.alpha=function(t){return arguments.length?(t=+t,s?s=0<t?t:0:0<t&&(p.start({type:"start",alpha:s=t}),L.timer(i.tick)),i):s},i.start=function(){for(var o,t,f=_.length,n=w.length,e=b[0],r=b[1],c=0;c<f;++c)(t=_[c]).index=c,t.weight=0;for(c=0;c<n;++c)"number"==typeof(t=w[c]).source&&(t.source=_[t.source]),"number"==typeof t.target&&(t.target=_[t.target]),++t.source.weight,++t.target.weight;for(c=0;c<f;++c)t=_[c],isNaN(t.x)&&(t.x=a("x",e)),isNaN(t.y)&&(t.y=a("y",r)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(h=[],"function"==typeof u)for(c=0;c<n;++c)h[c]=+u.call(this,w[c],c);else for(c=0;c<n;++c)h[c]=u;if(d=[],"function"==typeof l)for(c=0;c<n;++c)d[c]=+l.call(this,w[c],c);else for(c=0;c<n;++c)d[c]=l;if(g=[],"function"==typeof y)for(c=0;c<f;++c)g[c]=+y.call(this,_[c],c);else for(c=0;c<f;++c)g[c]=y;function a(t,n){if(!o){for(o=new Array(f),i=0;i<f;++i)o[i]=[];for(i=0;i<u;++i){var e=w[i];o[e.source.index].push(e.target),o[e.target.index].push(e.source)}}for(var r,a=o[c],i=-1,u=a.length;++i<u;)if(!isNaN(r=a[i][t]))return r;return Math.random()*n}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(t=t||L.behavior.drag().origin(hn).on("dragstart.force",Pi).on("drag.force",n).on("dragend.force",ji),!arguments.length)return t;this.on("mouseover.force",Oi).on("mouseout.force",Hi).call(t)},L.rebind(i,p,"on")};var Ui=20,Vi=1,Fi=1/0;function Yi(t,n){return L.rebind(t,n,"sort","children","value"),(t.nodes=t).links=Gi,t}function Ii(t){return t.children}function Zi(t){return t.value}function Bi(t,n){return n.value-t.value}function Gi(t){return L.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}L.layout.hierarchy=function(){var s=Bi,h=Ii,d=Zi;function g(t){var n=[];return function t(n,e,r){var a=h.call(g,n,e);if(n.depth=e,r.push(n),a&&(i=a.length)){for(var i,u,o=-1,f=n.children=new Array(i),c=0,l=e+1;++o<i;)(u=f[o]=t(a[o],l,r)).parent=n,c+=u.value;s&&f.sort(s),d&&(n.value=c)}else delete n.children,d&&(n.value=+d.call(g,n,e)||0);return n}(t,0,n),n}return g.sort=function(t){return arguments.length?(s=t,g):s},g.children=function(t){return arguments.length?(h=t,g):h},g.value=function(t){return arguments.length?(d=t,g):d},g.revalue=function(t){return function t(n,e){var r=n.children,a=0;if(r&&(i=r.length))for(var i,u=-1,o=e+1;++u<i;)a+=t(r[u],o);else d&&(a=+d.call(g,n,e)||0);return d&&(n.value=a),a}(t,0),t},g},L.layout.partition=function(){var r=L.layout.hierarchy(),a=[1,1];function n(t,n){var e=r.call(this,t,n);return function t(n,e,r,a){var i=n.children;if(n.x=e,n.y=n.depth*a,n.dx=r,n.dy=a,i&&(u=i.length)){var u,o,f,c=-1;for(r=n.value?r/n.value:0;++c<u;)t(o=i[c],e,f=o.value*r,a),e+=f}}(e[0],0,a[0],a[1]/function t(n){var e=n.children,r=0;if(e&&(a=e.length))for(var a,i=-1;++i<a;)r=Math.max(r,t(e[i]));return 1+r}(e[0])),e}return n.size=function(t){return arguments.length?(a=t,n):a},Yi(n,r)},L.layout.pie=function(){var o=Number,f=Xi,n=0,c=pt;function l(e){var r=e.map(function(t,n){return+o.call(l,t,n)}),a=+("function"==typeof n?n.apply(this,arguments):n),i=(("function"==typeof c?c.apply(this,arguments):c)-a)/L.sum(r),t=L.range(e.length);null!=f&&t.sort(f===Xi?function(t,n){return r[n]-r[t]}:function(t,n){return f(e[t],e[n])});var u=[];return t.forEach(function(t){var n;u[t]={data:e[t],value:n=r[t],startAngle:a,endAngle:a+=n*i}}),u}return l.value=function(t){return arguments.length?(o=t,l):o},l.sort=function(t){return arguments.length?(f=t,l):f},l.startAngle=function(t){return arguments.length?(n=t,l):n},l.endAngle=function(t){return arguments.length?(c=t,l):c},l};var Xi={};function $i(t){return t.x}function Wi(t){return t.y}function Ji(t,n,e){t.y0=n,t.y=e}L.layout.stack=function(){var s=hn,h=tu,d=nu,g=Ji,p=$i,b=Wi;function v(t,n){for(var e,r,a=(u=t.map(function(t,n){return s.call(v,t,n)})).map(function(t){return t.map(function(t,n){return[p.call(v,t,n),b.call(v,t,n)]})}),i=h.call(v,a,n),u=L.permute(u,i),a=L.permute(a,i),o=d.call(v,a,n),f=u.length,c=u[0].length,l=0;l<c;++l)for(g.call(v,u[0][l],r=o[l],a[0][l][1]),e=1;e<f;++e)g.call(v,u[e][l],r+=a[e-1][l][1],a[e][l][1]);return t}return v.values=function(t){return arguments.length?(s=t,v):s},v.order=function(t){return arguments.length?(h="function"==typeof t?t:Ki.get(t)||tu,v):h},v.offset=function(t){return arguments.length?(d="function"==typeof t?t:Qi.get(t)||nu,v):d},v.x=function(t){return arguments.length?(p=t,v):p},v.y=function(t){return arguments.length?(b=t,v):b},v.out=function(t){return arguments.length?(g=t,v):g},v};var Ki=L.map({"inside-out":function(t){for(var n,e=t.length,r=t.map(eu),a=t.map(ru),i=L.range(e).sort(function(t,n){return r[t]-r[n]}),u=0,o=0,f=[],c=[],l=0;l<e;++l)n=i[l],u<o?(u+=a[n],f.push(n)):(o+=a[n],c.push(n));return c.reverse().concat(f)},reverse:function(t){return L.range(t.length).reverse()},default:tu}),Qi=L.map({silhouette:function(t){for(var n,e,r=t.length,a=t[0].length,i=[],u=0,o=[],f=0;f<a;++f){for(e=n=0;n<r;n++)e+=t[n][f][1];u<e&&(u=e),i.push(e)}for(f=0;f<a;++f)o[f]=(u-i[f])/2;return o},wiggle:function(t){var n,e,r,a,i,u,o,f,c,l=t.length,s=t[0],h=s.length,d=[];for(d[0]=f=c=0,e=1;e<h;++e){for(a=n=0;n<l;++n)a+=t[n][e][1];for(i=n=0,o=s[e][0]-s[e-1][0];n<l;++n){for(r=0,u=(t[n][e][1]-t[n][e-1][1])/(2*o);r<n;++r)u+=(t[r][e][1]-t[r][e-1][1])/o;i+=u*t[n][e][1]}d[e]=f-=a?i/a*o:0,f<c&&(c=f)}for(e=0;e<h;++e)d[e]-=c;return d},expand:function(t){for(var n,e,r=t.length,a=t[0].length,i=1/r,u=[],o=0;o<a;++o){for(e=n=0;n<r;n++)e+=t[n][o][1];if(e)for(n=0;n<r;n++)t[n][o][1]/=e;else for(n=0;n<r;n++)t[n][o][1]=i}for(o=0;o<a;++o)u[o]=0;return u},zero:nu});function tu(t){return L.range(t.length)}function nu(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function eu(t){for(var n,e=1,r=0,a=t[0][1],i=t.length;e<i;++e)(n=t[e][1])>a&&(r=e,a=n);return r}function ru(t){return t.reduce(au,0)}function au(t,n){return t+n[1]}function iu(t,n){return uu(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function uu(t,n){for(var e=-1,r=+t[0],a=(t[1]-r)/n,i=[];++e<=n;)i[e]=a*e+r;return i}function ou(t){return[L.min(t),L.max(t)]}function fu(t,n){return t.parent==n.parent?1:2}function cu(t){var n=t.children;return n&&n.length?n[0]:t._tree.thread}function lu(t){var n,e=t.children;return e&&(n=e.length)?e[n-1]:t._tree.thread}function su(t,n){var e=t.children;if(e&&(a=e.length))for(var r,a,i=-1;++i<a;)0<n(r=su(e[i],n),t)&&(t=r);return t}function hu(t,n){return t.x-n.x}function du(t,n){return n.x-t.x}function gu(t,n){return t.depth-n.depth}function pu(t,f){!function t(n,e){var r=n.children;if(r&&(i=r.length))for(var a,i,u=null,o=-1;++o<i;)t(a=r[o],u),u=a;f(n,e)}(t,null)}function bu(t,n){return t.value-n.value}function vu(t,n){var e=t._pack_next;(t._pack_next=n)._pack_prev=t,(n._pack_next=e)._pack_prev=n}function yu(t,n){(t._pack_next=n)._pack_prev=t}function mu(t,n){var e=n.x-t.x,r=n.y-t.y,a=t.r+n.r;return e*e+r*r<.999*a*a}function xu(t){if((n=t.children)&&(u=n.length)){var n,e,r,a,i,u,o=1/0,f=-1/0,c=1/0,l=-1/0;if(n.forEach(Mu),(e=n[0]).x=-e.r,e.y=0,m(e),1<u&&((r=n[1]).x=r.r,r.y=0,m(r),2<u))for(wu(e,r,a=n[2]),m(a),vu(e,a),vu(e._pack_prev=a,r),r=e._pack_next,y=3;y<u;y++){wu(e,r,a=n[y]);for(var s=0,h=1,d=1,g=r._pack_next;g!==r;g=g._pack_next,h++)if(mu(g,a)){s=1;break}if(1==s)for(i=e._pack_prev;i!==g._pack_prev&&!mu(i,a);i=i._pack_prev,d++);s?(h<d||h==d&&r.r<e.r?yu(e,r=g):yu(e=i,r),y--):(vu(e,a),m(r=a))}for(var p=(o+f)/2,b=(c+l)/2,v=0,y=0;y<u;y++)(a=n[y]).x-=p,a.y-=b,v=Math.max(v,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=v,n.forEach(_u)}function m(t){o=Math.min(t.x-t.r,o),f=Math.max(t.x+t.r,f),c=Math.min(t.y-t.r,c),l=Math.max(t.y+t.r,l)}}function Mu(t){t._pack_next=t._pack_prev=t}function _u(t){delete t._pack_next,delete t._pack_prev}function wu(t,n,e){var r,a,i,u,o=t.r+e.r,f=n.x-t.x,c=n.y-t.y;o&&(f||c)?(r=n.r+e.r,i=.5+((o*=o)-(r*=r))/(2*(a=f*f+c*c)),u=Math.sqrt(Math.max(0,2*r*(o+a)-(o-=a)*o-r*r))/(2*a),e.x=t.x+i*f+u*c,e.y=t.y+i*c-u*f):(e.x=t.x+o,e.y=t.y)}function ku(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Su(t,n){var e=t.x+n[3],r=t.y+n[0],a=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return a<0&&(e+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:e,y:r,dx:a,dy:i}}function Eu(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function Nu(t){return t.rangeExtent?t.rangeExtent():Eu(t.range())}function Au(t,n,e,r){var a=e(t[0],t[1]),i=r(n[0],n[1]);return function(t){return i(a(t))}}function Cu(t,n){var e,r=0,a=t.length-1,i=t[r],u=t[a];return u<i&&(e=r,r=a,a=e,e=i,i=u,u=e),t[r]=n.floor(i),t[a]=n.ceil(u),t}L.layout.histogram=function(){var s=!0,h=Number,d=ou,g=iu;function e(t,n){for(var e,r,a=[],i=t.map(h,this),u=d.call(this,i,n),o=g.call(this,u,i,n),n=-1,f=i.length,c=o.length-1,l=s?1:1/f;++n<c;)(e=a[n]=[]).dx=o[n+1]-(e.x=o[n]),e.y=0;if(0<c)for(n=-1;++n<f;)(r=i[n])>=u[0]&&r<=u[1]&&((e=a[L.bisect(o,r,1,c)-1]).y+=l,e.push(t[n]));return a}return e.value=function(t){return arguments.length?(h=t,e):h},e.range=function(t){return arguments.length?(d=sn(t),e):d},e.bins=function(n){return arguments.length?(g="number"==typeof n?function(t){return uu(t,n)}:sn(n),e):g},e.frequency=function(t){return arguments.length?(s=!!t,e):s},e},L.layout.tree=function(){var l=L.layout.hierarchy().sort(null).value(null),h=fu,s=[1,1],d=!1;function n(t,n){var e=l.call(this,t,n),r=e[0];pu(r,function(t,n){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:n?n._tree.number+1:0}}),function t(n,e){var r=n.children,a=n._tree;if(r&&(i=r.length)){for(var i,u,o,f=r[0],c=f,l=-1;++l<i;)t(o=r[l],u),c=function(t,n,e){if(n){for(var r,a=t,i=t,u=n,o=t.parent.children[0],f=a._tree.mod,c=i._tree.mod,l=u._tree.mod,s=o._tree.mod;u=lu(u),a=cu(a),u&&a;)o=cu(o),(i=lu(i))._tree.ancestor=t,0<(r=u._tree.prelim+l-a._tree.prelim-f+h(u,a))&&(function(t,n,e){t=t._tree,n=n._tree;var r=e/(n.number-t.number);t.change+=r,n.change-=r,n.shift+=e,n.prelim+=e,n.mod+=e}(function(t,n,e){return t._tree.ancestor.parent==n.parent?t._tree.ancestor:e}(u,t,e),t,r),f+=r,c+=r),l+=u._tree.mod,f+=a._tree.mod,s+=o._tree.mod,c+=i._tree.mod;u&&!lu(i)&&(i._tree.thread=u,i._tree.mod+=l-c),a&&!cu(o)&&(o._tree.thread=a,o._tree.mod+=f-s,e=t)}return e}(o,u,c),u=o;!function(t){for(var n,e=0,r=0,a=t.children,i=a.length;0<=--i;)(n=a[i]._tree).prelim+=e,n.mod+=e,e+=n.shift+(r+=n.change)}(n);var s=.5*(f._tree.prelim+o._tree.prelim);e?(a.prelim=e._tree.prelim+h(n,e),a.mod=a.prelim-s):a.prelim=s}else e&&(a.prelim=e._tree.prelim+h(n,e))}(r),function t(n,e){n.x=n._tree.prelim+e;var r=n.children;if(r&&(a=r.length)){var a,i=-1;for(e+=n._tree.mod;++i<a;)t(r[i],e)}}(r,-r._tree.prelim);var a=su(r,du),i=su(r,hu),u=su(r,gu),o=a.x-h(a,i)/2,f=i.x+h(i,a)/2,c=u.depth||1;return pu(r,d?function(t){t.x*=s[0],t.y=t.depth*s[1],delete t._tree}:function(t){t.x=(t.x-o)/(f-o)*s[0],t.y=t.depth/c*s[1],delete t._tree}),e}return n.separation=function(t){return arguments.length?(h=t,n):h},n.size=function(t){return arguments.length?(d=null==(s=t),n):d?null:s},n.nodeSize=function(t){return arguments.length?(d=null!=(s=t),n):d?s:null},Yi(n,l)},L.layout.pack=function(){var f,c=L.layout.hierarchy().sort(bu),l=0,s=[1,1];function n(t,n){var e,r=c.call(this,t,n),a=r[0],i=s[0],u=s[1],o=null==f?Math.sqrt:"function"==typeof f?f:function(){return f};return a.x=a.y=0,pu(a,function(t){t.r=+o(t.value)}),pu(a,xu),l&&(e=l*(f?1:Math.max(2*a.r/i,2*a.r/u))/2,pu(a,function(t){t.r+=e}),pu(a,xu),pu(a,function(t){t.r-=e})),function t(n,e,r,a){var i=n.children;n.x=e+=a*n.x;n.y=r+=a*n.y;n.r*=a;if(i)for(var u=-1,o=i.length;++u<o;)t(i[u],e,r,a)}(a,i/2,u/2,f?1:1/Math.max(2*a.r/i,2*a.r/u)),r}return n.size=function(t){return arguments.length?(s=t,n):s},n.radius=function(t){return arguments.length?(f=null==t||"function"==typeof t?t:+t,n):f},n.padding=function(t){return arguments.length?(l=+t,n):l},Yi(n,c)},L.layout.cluster=function(){var l=L.layout.hierarchy().sort(null).value(null),s=fu,h=[1,1],d=!1;function n(t,n){var a,e=l.call(this,t,n),r=e[0],i=0;pu(r,function(t){var n,e,r=t.children;r&&r.length?(t.x=(e=r).reduce(function(t,n){return t+n.x},0)/e.length,t.y=(n=r,1+L.max(n,function(t){return t.y}))):(t.x=a?i+=s(t,a):0,t.y=0,a=t)});var u=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(r),o=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(r),f=u.x-s(u,o)/2,c=o.x+s(o,u)/2;return pu(r,d?function(t){t.x=(t.x-r.x)*h[0],t.y=(r.y-t.y)*h[1]}:function(t){t.x=(t.x-f)/(c-f)*h[0],t.y=(1-(r.y?t.y/r.y:1))*h[1]}),e}return n.separation=function(t){return arguments.length?(s=t,n):s},n.size=function(t){return arguments.length?(d=null==(h=t),n):d?null:h},n.nodeSize=function(t){return arguments.length?(d=null!=(h=t),n):d?h:null},Yi(n,l)},L.layout.treemap=function(){var r,a=L.layout.hierarchy(),l=Math.round,i=[1,1],u=null,s=ku,o=!1,h="squarify",d=.5*(1+Math.sqrt(5));function g(t,n){for(var e,r,a=-1,i=t.length;++a<i;)r=(e=t[a]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function p(t){var n=t.children;if(n&&n.length){var e,r,a,i=s(t),u=[],o=n.slice(),f=1/0,c="slice"===h?i.dx:"dice"===h?i.dy:"slice-dice"===h?1&t.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(g(o,i.dx*i.dy/t.value),u.area=0;0<(a=o.length);)u.push(e=o[a-1]),u.area+=e.area,f="squarify"!==h||(r=function(t,n){var e,r=t.area,a=0,i=1/0,u=-1,o=t.length;for(;++u<o;)(e=t[u].area)&&(e<i&&(i=e),a<e&&(a=e));return n*=n,(r*=r)?Math.max(n*a*d/r,r/(n*i*d)):1/0}(u,c))<=f?(o.pop(),r):(u.area-=u.pop().area,b(u,c,i,!1),c=Math.min(i.dx,i.dy),1/(u.length=u.area=0));u.length&&(b(u,c,i,!0),u.length=u.area=0),n.forEach(p)}}function f(t){var n=t.children;if(n&&n.length){var e,r=s(t),a=n.slice(),i=[];for(g(a,r.dx*r.dy/t.value),i.area=0;e=a.pop();)i.push(e),i.area+=e.area,null!=e.z&&(b(i,e.z?r.dx:r.dy,r,!a.length),i.length=i.area=0);n.forEach(f)}}function b(t,n,e,r){var a,i=-1,u=t.length,o=e.x,f=e.y,c=n?l(t.area/n):0;if(n==e.dx){for((r||c>e.dy)&&(c=e.dy);++i<u;)(a=t[i]).x=o,a.y=f,a.dy=c,o+=a.dx=Math.min(e.x+e.dx-o,c?l(a.area/c):0);a.z=!0,a.dx+=e.x+e.dx-o,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++i<u;)(a=t[i]).x=o,a.y=f,a.dx=c,f+=a.dy=Math.min(e.y+e.dy-f,c?l(a.area/c):0);a.z=!1,a.dy+=e.y+e.dy-f,e.x+=c,e.dx-=c}}function c(t){var n=r||a(t),e=n[0];return e.x=0,e.y=0,e.dx=i[0],e.dy=i[1],r&&a.revalue(e),g([e],e.dx*e.dy/e.value),(r?f:p)(e),o&&(r=n),n}return c.size=function(t){return arguments.length?(i=t,c):i},c.padding=function(e){if(!arguments.length)return u;function t(t){return Su(t,e)}var n;return s=null==(u=e)?ku:"function"==(n=typeof e)?function(t){var n=e.call(c,t,t.depth);return null==n?ku(t):Su(t,"number"==typeof n?[n,n,n,n]:n)}:("number"==n&&(e=[e,e,e,e]),t),c},c.round=function(t){return arguments.length?(l=t?Math.round:Number,c):l!=Number},c.sticky=function(t){return arguments.length?(o=t,r=null,c):o},c.ratio=function(t){return arguments.length?(d=t,c):d},c.mode=function(t){return arguments.length?(h=t+"",c):h},Yi(c,a)},L.random={normal:function(r,a){var t=arguments.length;return t<2&&(a=1),t<1&&(r=0),function(){for(var t,n,e;!(e=(t=2*Math.random()-1)*t+(n=2*Math.random()-1)*n)||1<e;);return r+a*t*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var t=L.random.normal.apply(L,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=L.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},L.scale={};var zu={floor:hn,ceil:hn};function Lu(e,t,n,r){var a=[],i=[],u=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<=o;)a.push(n(e[u-1],e[u])),i.push(r(t[u-1],t[u]));return function(t){var n=L.bisect(e,t,1,o)-1;return i[n](a[n](t))}}function qu(t,n){return L.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Tu(t,n){return Cu(t,(e=Ru(t,n)[2])?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:zu);var e}function Ru(t,n){null==n&&(n=10);var e=Eu(t),r=e[1]-e[0],a=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),i=n/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),e[0]=Math.ceil(e[0]/a)*a,e[1]=Math.floor(e[1]/a)*a+.5*a,e[2]=a,e}function Du(t,n){return L.range.apply(L,Ru(t,n))}function Pu(t,n,e){var d=Ru(t,n);return L.format(e?e.replace(En,function(t,n,e,r,a,i,u,o,f,c){return[n,e,r,a,i,u,o,f||"."+(l=c,h=Ou((s=d)[2]),l in ju?Math.abs(h-Ou(Math.max(Math.abs(s[0]),Math.abs(s[1]))))+ +("e"!==l):h-2*("%"===l)),c].join("");var l,s,h}):",."+Ou(d[2])+"f")}L.scale.linear=function(){return function t(e,r,a,i){var u,o;function n(){var t=2<Math.min(e.length,r.length)?Lu:Au,n=i?Ri:Ti;return u=t(e,r,n,a),o=t(r,e,n,di),f}function f(t){return u(t)}f.invert=function(t){return o(t)};f.domain=function(t){return arguments.length?(e=t.map(Number),n()):e};f.range=function(t){return arguments.length?(r=t,n()):r};f.rangeRound=function(t){return f.range(t).interpolate(Ni)};f.clamp=function(t){return arguments.length?(i=t,n()):i};f.interpolate=function(t){return arguments.length?(a=t,n()):a};f.ticks=function(t){return Du(e,t)};f.tickFormat=function(t,n){return Pu(e,t,n)};f.nice=function(t){return Tu(e,t),n()};f.copy=function(){return t(e,r,a,i)};return n()}([0,1],[0,1],di,!1)};var ju={s:1,g:1,p:1,r:1,e:1};function Ou(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}L.scale.log=function(){return function t(n,f,c,l){function s(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(f)}function h(t){return c?Math.pow(f,t):-Math.pow(f,-t)}function i(t){return n(s(t))}i.invert=function(t){return h(n.invert(t))};i.domain=function(t){return arguments.length?(c=0<=t[0],n.domain((l=t.map(Number)).map(s)),i):l};i.base=function(t){return arguments.length?(f=+t,n.domain(l.map(s)),i):f};i.nice=function(){var t=Cu(l.map(s),c?Math:Uu);return n.domain(t),l=t.map(h),i};i.ticks=function(){var t=Eu(l),n=[],e=t[0],r=t[1],a=Math.floor(s(e)),i=Math.ceil(s(r)),u=f%1?2:f;if(isFinite(i-a)){if(c){for(;a<i;a++)for(var o=1;o<u;o++)n.push(h(a)*o);n.push(h(a))}else for(n.push(h(a));a++<i;)for(var o=u-1;0<o;o--)n.push(h(a)*o);for(a=0;n[a]<e;a++);for(i=n.length;n[i-1]>r;i--);n=n.slice(a,i)}return n};i.tickFormat=function(t,n){if(!arguments.length)return Hu;arguments.length<2?n=Hu:"function"!=typeof n&&(n=L.format(n));var e,r=Math.max(.1,t/i.ticks().length),a=c?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(t){return t/h(a(s(t)+e))<=r?n(t):""}};i.copy=function(){return t(n.copy(),f,c,l)};return qu(i,n)}(L.scale.linear().domain([0,1]),10,!0,[1,10])};var Hu=L.format(".0e"),Uu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Vu(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}L.scale.pow=function(){return function t(n,e,r){var a=Vu(e),i=Vu(1/e);function u(t){return n(a(t))}u.invert=function(t){return i(n.invert(t))};u.domain=function(t){return arguments.length?(n.domain((r=t.map(Number)).map(a)),u):r};u.ticks=function(t){return Du(r,t)};u.tickFormat=function(t,n){return Pu(r,t,n)};u.nice=function(t){return u.domain(Tu(r,t))};u.exponent=function(t){return arguments.length?(a=Vu(e=t),i=Vu(1/e),n.domain(r.map(a)),u):e};u.copy=function(){return t(n.copy(),e,r)};return qu(u,n)}(L.scale.linear(),1,[0,1])},L.scale.sqrt=function(){return L.scale.pow().exponent(.5)},L.scale.ordinal=function(){return function t(f,c){var a,l,s;function h(t){return l[((a.get(t)||"range"===c.t&&a.set(t,f.push(t)))-1)%l.length]}function d(n,e){return L.range(f.length).map(function(t){return n+e*t})}h.domain=function(t){if(!arguments.length)return f;f=[],a=new m;for(var n,e=-1,r=t.length;++e<r;)a.has(n=t[e])||a.set(n,f.push(n));return h[c.t].apply(h,c.a)};h.range=function(t){return arguments.length?(l=t,s=0,c={t:"range",a:arguments},h):l};h.rangePoints=function(t,n){arguments.length<2&&(n=0);var e=t[0],r=t[1],a=(r-e)/(Math.max(1,f.length-1)+n);return l=d(f.length<2?(e+r)/2:e+a*n/2,a),s=0,c={t:"rangePoints",a:arguments},h};h.rangeBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],a=t[+r],i=t[1-r],u=(i-a)/(f.length-n+2*e);return l=d(a+u*e,u),r&&l.reverse(),s=u*(1-n),c={t:"rangeBands",a:arguments},h};h.rangeRoundBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],a=t[+r],i=t[1-r],u=Math.floor((i-a)/(f.length-n+2*e)),o=i-a-(f.length-n)*u;return l=d(a+Math.round(o/2),u),r&&l.reverse(),s=Math.round(u*(1-n)),c={t:"rangeRoundBands",a:arguments},h};h.rangeBand=function(){return s};h.rangeExtent=function(){return Eu(c.a[0])};h.copy=function(){return t(f,c)};return h.domain(f)}([],{t:"range",a:[[]]})},L.scale.category10=function(){return L.scale.ordinal().range(Fu)},L.scale.category20=function(){return L.scale.ordinal().range(Yu)},L.scale.category20b=function(){return L.scale.ordinal().range(Iu)},L.scale.category20c=function(){return L.scale.ordinal().range(Zu)};var Fu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Qt),Yu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Qt),Iu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Qt),Zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Qt);L.scale.quantile=function(){return function t(e,r){var a;function n(){var t=0,n=r.length;for(a=[];++t<n;)a[t-1]=L.quantile(e,t/n);return i}function i(t){if(!isNaN(t=+t))return r[L.bisect(a,t)]}i.domain=function(t){return arguments.length?(e=t.filter(function(t){return!isNaN(t)}).sort(L.ascending),n()):e};i.range=function(t){return arguments.length?(r=t,n()):r};i.quantiles=function(){return a};i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?a[t-1]:e[0],t<a.length?a[t]:e[e.length-1]]};i.copy=function(){return t(e,r)};return n()}([],[])},L.scale.quantize=function(){return function t(n,e,r){var a,i;function u(t){return r[Math.max(0,Math.min(i,Math.floor(a*(t-n))))]}function o(){return a=r.length/(e-n),i=r.length-1,u}u.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],o()):[n,e]};u.range=function(t){return arguments.length?(r=t,o()):r};u.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/a+n,t+1/a]};u.copy=function(){return t(n,e,r)};return o()}(0,1,[0,1])},L.scale.threshold=function(){return function t(n,e){function r(t){if(t<=t)return e[L.bisect(n,t)]}r.domain=function(t){return arguments.length?(n=t,r):n};r.range=function(t){return arguments.length?(e=t,r):e};r.invertExtent=function(t){return t=e.indexOf(t),[n[t-1],n[t]]};r.copy=function(){return t(n,e)};return r}([.5],[0,1])},L.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return Du(e,t)};n.tickFormat=function(t,n){return Pu(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},L.svg={},L.svg.arc=function(){var l=Xu,s=$u,h=Wu,d=Ju;function n(){var t=l.apply(this,arguments),n=s.apply(this,arguments),e=h.apply(this,arguments)+Bu,r=d.apply(this,arguments)+Bu,a=(r<e&&(a=e,e=r,r=a),r-e),i=a<gt?"0":"1",u=Math.cos(e),o=Math.sin(e),f=Math.cos(r),c=Math.sin(r);return Gu<=a?t?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":t?"M"+n*u+","+n*o+"A"+n+","+n+" 0 "+i+",1 "+n*f+","+n*c+"L"+t*f+","+t*c+"A"+t+","+t+" 0 "+i+",0 "+t*u+","+t*o+"Z":"M"+n*u+","+n*o+"A"+n+","+n+" 0 "+i+",1 "+n*f+","+n*c+"L0,0Z"}return n.innerRadius=function(t){return arguments.length?(l=sn(t),n):l},n.outerRadius=function(t){return arguments.length?(s=sn(t),n):s},n.startAngle=function(t){return arguments.length?(h=sn(t),n):h},n.endAngle=function(t){return arguments.length?(d=sn(t),n):d},n.centroid=function(){var t=(l.apply(this,arguments)+s.apply(this,arguments))/2,n=(h.apply(this,arguments)+d.apply(this,arguments))/2+Bu;return[Math.cos(n)*t,Math.sin(n)*t]},n};var Bu=-bt,Gu=pt-vt;function Xu(t){return t.innerRadius}function $u(t){return t.outerRadius}function Wu(t){return t.startAngle}function Ju(t){return t.endAngle}function Ku(c){var l=xa,s=Ma,h=lr,d=to,n=d.key,g=.7;function e(t){var n,e=[],r=[],a=-1,i=t.length,u=sn(l),o=sn(s);function f(){e.push("M",d(c(r),g))}for(;++a<i;)h.call(this,n=t[a],a)?r.push([+u.call(this,n,a),+o.call(this,n,a)]):r.length&&(f(),r=[]);return r.length&&f(),e.length?e.join(""):null}return e.x=function(t){return arguments.length?(l=t,e):l},e.y=function(t){return arguments.length?(s=t,e):s},e.defined=function(t){return arguments.length?(h=t,e):h},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Qu.get(t)||to).key,e):n},e.tension=function(t){return arguments.length?(g=t,e):g},e}L.svg.line=function(){return Ku(hn)};var Qu=L.map({linear:to,"linear-closed":function(t){return to(t)+"Z"},step:function(t){var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];for(;++n<e;)a.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);1<e&&a.push("H",r[0]);return a.join("")},"step-before":no,"step-after":eo,basis:io,"basis-open":function(t){if(t.length<4)return to(t);var n,e=[],r=-1,a=t.length,i=[0],u=[0];for(;++r<3;)n=t[r],i.push(n[0]),u.push(n[1]);e.push(uo(co,i)+","+uo(co,u)),--r;for(;++r<a;)n=t[r],i.shift(),i.push(n[0]),u.shift(),u.push(n[1]),lo(e,i,u);return e.join("")},"basis-closed":function(t){var n,e,r=-1,a=t.length,i=a+4,u=[],o=[];for(;++r<4;)e=t[r%a],u.push(e[0]),o.push(e[1]);n=[uo(co,u),",",uo(co,o)],--r;for(;++r<i;)e=t[r%a],u.shift(),u.push(e[0]),o.shift(),o.push(e[1]),lo(n,u,o);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var r,a,i=t[0][0],u=t[0][1],o=t[e][0]-i,f=t[e][1]-u,c=-1;++c<=e;)r=t[c],a=c/e,r[0]=n*r[0]+(1-n)*(i+a*o),r[1]=n*r[1]+(1-n)*(u+a*f);return io(t)},cardinal:function(t,n){return t.length<3?to(t):t[0]+ro(t,ao(t,n))},"cardinal-open":function(t,n){return t.length<4?to(t):t[1]+ro(t.slice(1,t.length-1),ao(t,n))},"cardinal-closed":function(t,n){return t.length<3?to(t):t[0]+ro((t.push(t[0]),t),ao([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?to(t):t[0]+ro(t,function(t){var n,e,r,a,i=[],u=function(t){var n=0,e=t.length-1,r=[],a=t[0],i=t[1],u=r[0]=so(a,i);for(;++n<e;)r[n]=(u+(u=so(a=i,i=t[n+1])))/2;return r[n]=u,r}(t),o=-1,f=t.length-1;for(;++o<f;)n=so(t[o],t[o+1]),T(n)<vt?u[o]=u[o+1]=0:(e=u[o]/n,r=u[o+1]/n,9<(a=e*e+r*r)&&(a=3*n/Math.sqrt(a),u[o]=a*e,u[o+1]=a*r));o=-1;for(;++o<=f;)a=(t[Math.min(f,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+u[o]*u[o])),i.push([a||0,u[o]*a||0]);return i}(t))}});function to(t){return t.join("L")}function no(t){for(var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];++n<e;)a.push("V",(r=t[n])[1],"H",r[0]);return a.join("")}function eo(t){for(var n=0,e=t.length,r=t[0],a=[r[0],",",r[1]];++n<e;)a.push("H",(r=t[n])[0],"V",r[1]);return a.join("")}function ro(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return to(t);var e,r=t.length!=n.length,a="",i=t[0],u=t[1],o=n[0],f=o,c=1;if(r&&(a+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=t[1],c=2),1<n.length){f=n[1],u=t[c],c++,a+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-f[0])+","+(u[1]-f[1])+","+u[0]+","+u[1];for(var l=2;l<n.length;l++,c++)u=t[c],f=n[l],a+="S"+(u[0]-f[0])+","+(u[1]-f[1])+","+u[0]+","+u[1]}return r&&(e=t[c],a+="Q"+(u[0]+2*f[0]/3)+","+(u[1]+2*f[1]/3)+","+e[0]+","+e[1]),a}function ao(t,n){for(var e,r=[],a=(1-n)/2,i=t[0],u=t[1],o=1,f=t.length;++o<f;)e=i,i=u,u=t[o],r.push([a*(u[0]-e[0]),a*(u[1]-e[1])]);return r}function io(t){if(t.length<3)return to(t);var n=1,e=t.length,r=t[0],a=r[0],i=r[1],u=[a,a,a,(r=t[1])[0]],o=[i,i,i,r[1]],f=[a,",",i,"L",uo(co,u),",",uo(co,o)];for(t.push(t[e-1]);++n<=e;)r=t[n],u.shift(),u.push(r[0]),o.shift(),o.push(r[1]),lo(f,u,o);return t.pop(),f.push("L",r),f.join("")}function uo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}Qu.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var oo=[0,2/3,1/3,0],fo=[0,1/3,2/3,0],co=[0,1/6,2/3,1/6];function lo(t,n,e){t.push("C",uo(oo,n),",",uo(oo,e),",",uo(fo,n),",",uo(fo,e),",",uo(co,n),",",uo(co,e))}function so(t,n){return(n[1]-t[1])/(n[0]-t[0])}function ho(t){for(var n,e,r,a=-1,i=t.length;++a<i;)e=(n=t[a])[0],r=n[1]+Bu,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function go(g){var p=xa,b=xa,v=0,y=Ma,m=lr,x=to,n=x.key,M=x,_="L",w=.7;function e(t){var n,e,r,a=[],i=[],u=[],o=-1,f=t.length,c=sn(p),l=sn(v),s=p===b?function(){return e}:sn(b),h=v===y?function(){return r}:sn(y);function d(){a.push("M",x(g(u),w),_,M(g(i.reverse()),w),"Z")}for(;++o<f;)m.call(this,n=t[o],o)?(i.push([e=+c.call(this,n,o),r=+l.call(this,n,o)]),u.push([+s.call(this,n,o),+h.call(this,n,o)])):i.length&&(d(),i=[],u=[]);return i.length&&d(),a.length?a.join(""):null}return e.x=function(t){return arguments.length?(p=b=t,e):b},e.x0=function(t){return arguments.length?(p=t,e):p},e.x1=function(t){return arguments.length?(b=t,e):b},e.y=function(t){return arguments.length?(v=y=t,e):y},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(m=t,e):m},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?x=t:(x=Qu.get(t)||to).key,M=x.reverse||x,_=x.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(w=t,e):w},e}function po(t){return t.radius}function bo(t){return[t.x,t.y]}function vo(){return 64}function yo(){return"circle"}function mo(t){var n=Math.sqrt(t/gt);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}L.svg.line.radial=function(){var t=Ku(ho);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(no.reverse=eo).reverse=no,L.svg.area=function(){return go(hn)},L.svg.area.radial=function(){var t=go(ho);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},L.svg.chord=function(){var u=ua,o=oa,f=po,c=Wu,l=Ju;function n(t,n){var e,r,a=s(this,u,t,n),i=s(this,o,t,n);return"M"+a.p0+h(a.r,a.p1,a.a1-a.a0)+(r=i,(e=a).a0==r.a0&&e.a1==r.a1?d(a.r,a.p1,a.r,a.p0):d(a.r,a.p1,i.r,i.p0)+h(i.r,i.p1,i.a1-i.a0)+d(i.r,i.p1,a.r,a.p0))+"Z"}function s(t,n,e,r){var a=n.call(t,e,r),i=f.call(t,a,r),u=c.call(t,a,r)+Bu,o=l.call(t,a,r)+Bu;return{r:i,a0:u,a1:o,p0:[i*Math.cos(u),i*Math.sin(u)],p1:[i*Math.cos(o),i*Math.sin(o)]}}function h(t,n,e){return"A"+t+","+t+" 0 "+ +(gt<e)+",1 "+n}function d(t,n,e,r){return"Q 0,0 "+r}return n.radius=function(t){return arguments.length?(f=sn(t),n):f},n.source=function(t){return arguments.length?(u=sn(t),n):u},n.target=function(t){return arguments.length?(o=sn(t),n):o},n.startAngle=function(t){return arguments.length?(c=sn(t),n):c},n.endAngle=function(t){return arguments.length?(l=sn(t),n):l},n},L.svg.diagonal=function(){var u=ua,o=oa,f=bo;function n(t,n){var e=u.call(this,t,n),r=o.call(this,t,n),a=(e.y+r.y)/2,i=[e,{x:e.x,y:a},{x:r.x,y:a},r];return"M"+(i=i.map(f))[0]+"C"+i[1]+" "+i[2]+" "+i[3]}return n.source=function(t){return arguments.length?(u=sn(t),n):u},n.target=function(t){return arguments.length?(o=sn(t),n):o},n.projection=function(t){return arguments.length?(f=t,n):f},n},L.svg.diagonal.radial=function(){var t=L.svg.diagonal(),n=bo,e=t.projection;return t.projection=function(t){return arguments.length?e((r=n=t,function(){var t=r.apply(this,arguments),n=t[0],e=t[1]+Bu;return[n*Math.cos(e),n*Math.sin(e)]})):n;var r},t},L.svg.symbol=function(){var e=yo,r=vo;function n(t,n){return(xo.get(e.call(this,t,n))||mo)(r.call(this,t,n))}return n.type=function(t){return arguments.length?(e=sn(t),n):e},n.size=function(t){return arguments.length?(r=sn(t),n):r},n};var xo=L.map({circle:mo,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*_o)),e=n*_o;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Mo),e=n*Mo/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Mo),e=n*Mo/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});L.svg.symbolTypes=xo.keys();var Mo=Math.sqrt(3),_o=Math.tan(30*mt);function wo(t,n){return A(t,Eo),t.id=n,t}var ko,So,Eo=[],No=0;function Ao(t,r,a,i){var u=t.id;return tt(t,"function"==typeof a?function(t,n,e){t.__transition__[u].tween.set(r,i(a.call(t,t.__data__,n,e)))}:(a=i(a),function(t){t.__transition__[u].tween.set(r,a)}))}function Co(t){return null==t&&(t=""),function(){this.textContent=t}}function zo(l,s,h,t){var d,g=l.__transition__||(l.__transition__={active:0,count:0}),p=g[h];p||(d=t.time,p=g[h]={tween:new m,time:d,ease:t.ease,delay:t.delay,duration:t.duration},++g.count,L.timer(function(t){var a=l.__data__,i=p.ease,n=p.delay,u=p.duration,e=mn,o=[];if(e.t=n+d,n<=t)return r(t-n);function r(t){if(g.active>h)return c();g.active=h,p.event&&p.event.start.call(l,a,s),p.tween.forEach(function(t,n){(n=n.call(l,a,s))&&o.push(n)}),L.timer(function(){return e.c=f(t||1)?lr:f,1},0,d)}function f(t){if(g.active!==h)return c();for(var n=t/u,e=i(n),r=o.length;0<r;)o[--r].call(l,e);return 1<=n?(p.event&&p.event.end.call(l,a,s),c()):void 0}function c(){return--g.count?delete g[h]:delete l.__transition__,1}e.c=r},0,d))}Eo.call=H.call,Eo.empty=H.empty,Eo.node=H.node,Eo.size=H.size,L.transition=function(t){return arguments.length?ko?t.transition():t:at.transition()},(L.transition.prototype=Eo).select=function(t){var n,e,r,a=this.id,i=[];t=U(t);for(var u=-1,o=this.length;++u<o;){i.push(n=[]);for(var f=this[u],c=-1,l=f.length;++c<l;)(r=f[c])&&(e=t.call(r,r.__data__,c,u))?("__data__"in r&&(e.__data__=r.__data__),zo(e,c,a,r.__transition__[a]),n.push(e)):n.push(null)}return wo(i,a)},Eo.selectAll=function(t){var n,e,r,a,i,u=this.id,o=[];t=V(t);for(var f=-1,c=this.length;++f<c;)for(var l=this[f],s=-1,h=l.length;++s<h;)if(r=l[s]){i=r.__transition__[u],e=t.call(r,r.__data__,s,f),o.push(n=[]);for(var d=-1,g=e.length;++d<g;)(a=e[d])&&zo(a,d,u,i),n.push(a)}return wo(o,u)},Eo.filter=function(t){var n,e,r=[];"function"!=typeof t&&(t=Q(t));for(var a=0,i=this.length;a<i;a++){r.push(n=[]);for(var u,o=0,f=(u=this[a]).length;o<f;o++)(e=u[o])&&t.call(e,e.__data__,o,a)&&n.push(e)}return wo(r,this.id)},Eo.tween=function(n,e){var r=this.id;return arguments.length<2?this.node().__transition__[r].tween.get(n):tt(this,null==e?function(t){t.__transition__[r].tween.remove(n)}:function(t){t.__transition__[r].tween.set(n,e)})},Eo.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?qi:di,a=L.ns.qualify(t);function i(){this.removeAttribute(a)}function u(){this.removeAttributeNS(a.space,a.local)}return Ao(this,"attr."+t,n,a.local?function(e){return null==e?u:(e+="",function(){var n,t=this.getAttributeNS(a.space,a.local);return t!==e&&(n=r(t,e),function(t){this.setAttributeNS(a.space,a.local,n(t))})})}:function(e){return null==e?i:(e+="",function(){var n,t=this.getAttribute(a);return t!==e&&(n=r(t,e),function(t){this.setAttribute(a,n(t))})})})},Eo.attrTween=function(t,r){var a=L.ns.qualify(t);return this.tween("attr."+t,a.local?function(t,n){var e=r.call(this,t,n,this.getAttributeNS(a.space,a.local));return e&&function(t){this.setAttributeNS(a.space,a.local,e(t))}}:function(t,n){var e=r.call(this,t,n,this.getAttribute(a));return e&&function(t){this.setAttribute(a,e(t))}})},Eo.style=function(r,t,a){var n=arguments.length;if(n<3){if("string"!=typeof r){for(a in n<2&&(t=""),r)this.style(a,r[a],t);return this}a=""}function i(){this.style.removeProperty(r)}return Ao(this,"style."+r,t,function(e){return null==e?i:(e+="",function(){var n,t=q.getComputedStyle(this,null).getPropertyValue(r);return t!==e&&(n=di(t,e),function(t){this.style.setProperty(r,n(t),a)})})})},Eo.styleTween=function(r,a,i){return arguments.length<3&&(i=""),this.tween("style."+r,function(t,n){var e=a.call(this,t,n,q.getComputedStyle(this,null).getPropertyValue(r));return e&&function(t){this.style.setProperty(r,e(t),i)}})},Eo.text=function(t){return Ao(this,"text",t,Co)},Eo.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Eo.ease=function(n){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof n&&(n=L.ease.apply(L,arguments)),tt(this,function(t){t.__transition__[e].ease=n}))},Eo.delay=function(r){var a=this.id;return tt(this,"function"==typeof r?function(t,n,e){t.__transition__[a].delay=+r.call(t,t.__data__,n,e)}:(r=+r,function(t){t.__transition__[a].delay=r}))},Eo.duration=function(r){var a=this.id;return tt(this,"function"==typeof r?function(t,n,e){t.__transition__[a].duration=Math.max(1,r.call(t,t.__data__,n,e))}:(r=Math.max(1,r),function(t){t.__transition__[a].duration=r}))},Eo.each=function(r,e){var t,n,a=this.id;return arguments.length<2?(t=So,n=ko,ko=a,tt(this,function(t,n,e){So=t.__transition__[a],r.call(t,t.__data__,n,e)}),So=t,ko=n):tt(this,function(t){var n=t.__transition__[a];(n.event||(n.event=L.dispatch("start","end"))).on(r,e)}),this},Eo.transition=function(){for(var t,n,e,r=this.id,a=++No,i=[],u=0,o=this.length;u<o;u++){i.push(t=[]);for(var f,c=0,l=(f=this[u]).length;c<l;c++)(n=f[c])&&((e=Object.create(n.__transition__[r])).delay+=e.duration,zo(n,c,a,e)),t.push(n)}return wo(i,a)},L.svg.axis=function(){var x,M=L.scale.linear(),_=Lo,w=6,k=6,S=3,E=[10],N=null;function e(t){t.each(function(){var t,n=L.select(this),e=this.__chart__||M,r=this.__chart__=M.copy(),a=null==N?r.ticks?r.ticks.apply(r,E):r.domain():N,i=null==x?r.tickFormat?r.tickFormat.apply(r,E):hn:x,u=n.selectAll(".tick").data(a,r),o=u.enter().insert("g",".domain").attr("class","tick").style("opacity",vt),f=L.transition(u.exit()).style("opacity",vt).remove(),c=L.transition(u).style("opacity",1),l=Nu(r),s=n.selectAll(".domain").data([0]),h=(s.enter().append("path").attr("class","domain"),L.transition(s));o.append("line"),o.append("text");var d,g,p=o.select("line"),b=c.select("line"),v=u.select("text").text(i),y=o.select("text"),m=c.select("text");switch(_){case"bottom":t=To,p.attr("y2",w),y.attr("y",Math.max(w,0)+S),b.attr("x2",0).attr("y2",w),m.attr("x",0).attr("y",Math.max(w,0)+S),v.attr("dy",".71em").style("text-anchor","middle"),h.attr("d","M"+l[0]+","+k+"V0H"+l[1]+"V"+k);break;case"top":t=To,p.attr("y2",-w),y.attr("y",-(Math.max(w,0)+S)),b.attr("x2",0).attr("y2",-w),m.attr("x",0).attr("y",-(Math.max(w,0)+S)),v.attr("dy","0em").style("text-anchor","middle"),h.attr("d","M"+l[0]+","+-k+"V0H"+l[1]+"V"+-k);break;case"left":t=Ro,p.attr("x2",-w),y.attr("x",-(Math.max(w,0)+S)),b.attr("x2",-w).attr("y2",0),m.attr("x",-(Math.max(w,0)+S)).attr("y",0),v.attr("dy",".32em").style("text-anchor","end"),h.attr("d","M"+-k+","+l[0]+"H0V"+l[1]+"H"+-k);break;case"right":t=Ro,p.attr("x2",w),y.attr("x",Math.max(w,0)+S),b.attr("x2",w).attr("y2",0),m.attr("x",Math.max(w,0)+S).attr("y",0),v.attr("dy",".32em").style("text-anchor","start"),h.attr("d","M"+k+","+l[0]+"H0V"+l[1]+"H"+k)}r.rangeBand?(g=(d=r).rangeBand()/2,e=r=function(t){return d(t)+g}):e.rangeBand?e=r:f.call(t,r),o.call(t,e),c.call(t,r)})}return e.scale=function(t){return arguments.length?(M=t,e):M},e.orient=function(t){return arguments.length?(_=t in qo?t+"":Lo,e):_},e.ticks=function(){return arguments.length?(E=arguments,e):E},e.tickValues=function(t){return arguments.length?(N=t,e):N},e.tickFormat=function(t){return arguments.length?(x=t,e):x},e.tickSize=function(t){var n=arguments.length;return n?(w=+t,k=+arguments[n-1],e):w},e.innerTickSize=function(t){return arguments.length?(w=+t,e):w},e.outerTickSize=function(t){return arguments.length?(k=+t,e):k},e.tickPadding=function(t){return arguments.length?(S=+t,e):S},e.tickSubdivide=function(){return arguments.length&&e},e};var Lo="bottom",qo={top:1,right:1,bottom:1,left:1};function To(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Ro(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}L.svg.brush=function(){var y,m,x=D(N,"brushstart","brush","brushend"),M=null,_=null,w=[0,0],k=[0,0],S=!0,E=!0,u=Po[0];function N(t){t.each(function(){var t=L.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var e=t.selectAll(".resize").data(u,hn);e.exit().remove(),e.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Do[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),e.style("display",N.empty()?"none":null);var r,a=L.transition(t),i=L.transition(n);M&&(r=Nu(M),i.attr("x",r[0]).attr("width",r[1]-r[0]),C(a)),_&&(r=Nu(_),i.attr("y",r[0]).attr("height",r[1]-r[0]),z(a)),A(a)})}function A(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+w[+/e$/.test(t)]+","+k[+/^s/.test(t)]+")"})}function C(t){t.select(".extent").attr("x",w[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",w[1]-w[0])}function z(t){t.select(".extent").attr("y",k[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function o(){var s,t,n,e,r=this,a=L.select(L.event.target),i=x.of(r,arguments),u=L.select(r),o=a.datum(),f=!/^(n|s)$/.test(o)&&M,c=!/^(e|w)$/.test(o)&&_,h=a.classed("extent"),l=st(),d=L.mouse(r),g=L.select(q).on("keydown.brush",function(){32==L.event.keyCode&&(h||(s=null,d[0]-=w[1],d[1]-=k[1],h=2),R())}).on("keyup.brush",function(){32==L.event.keyCode&&2==h&&(d[0]+=w[1],d[1]+=k[1],h=0,R())});function p(){var t=L.mouse(r),n=!1;e&&(t[0]+=e[0],t[1]+=e[1]),h||(L.event.altKey?(s=s||[(w[0]+w[1])/2,(k[0]+k[1])/2],d[0]=w[+(t[0]<s[0])],d[1]=k[+(t[1]<s[1])]):s=null),f&&b(t,M,0)&&(C(u),n=!0),c&&b(t,_,1)&&(z(u),n=!0),n&&(A(u),i({type:"brush",mode:h?"move":"resize"}))}function b(t,n,e){var r,a,i=Nu(n),u=i[0],o=i[1],f=d[e],c=e?k:w,l=c[1]-c[0];return h&&(u-=f,o-=l+f),r=(e?E:S)?Math.max(u,Math.min(o,t[e])):t[e],h?a=(r+=f)+l:(s&&(f=Math.max(u,Math.min(o,2*s[e]-r))),f<r?(a=r,r=f):a=f),c[0]!=r||c[1]!=a?(e?m=null:y=null,c[0]=r,c[1]=a,1):void 0}function v(){p(),u.style("pointer-events","all").selectAll(".resize").style("display",N.empty()?"none":null),L.select("body").style("cursor",null),g.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),i({type:"brushend"})}L.event.changedTouches?g.on("touchmove.brush",p).on("touchend.brush",v):g.on("mousemove.brush",p).on("mouseup.brush",v),u.interrupt().selectAll("*").interrupt(),h?(d[0]=w[0]-d[0],d[1]=k[0]-d[1]):o?(t=+/w$/.test(o),n=+/^n/.test(o),e=[w[1-t]-d[0],k[1-n]-d[1]],d[0]=w[t],d[1]=k[n]):L.event.altKey&&(s=d.slice()),u.style("pointer-events","none").selectAll(".resize").style("display",null),L.select("body").style("cursor",a.style("cursor")),i({type:"brushstart"}),p()}return N.event=function(t){t.each(function(){var r=x.of(this,arguments),a={x:w,y:k,i:y,j:m},t=this.__chart__||a;this.__chart__=a,ko?L.select(this).transition().each("start.brush",function(){y=t.i,m=t.j,w=t.x,k=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=gi(w,a.x),e=gi(k,a.y);return y=m=null,function(t){w=a.x=n(t),k=a.y=e(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=a.i,m=a.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},N.x=function(t){return arguments.length?(u=Po[!(M=t)<<1|!_],N):M},N.y=function(t){return arguments.length?(u=Po[!M<<1|!(_=t)],N):_},N.clamp=function(t){return arguments.length?(M&&_?(S=!!t[0],E=!!t[1]):M?S=!!t:_&&(E=!!t),N):M&&_?[S,E]:M?S:_?E:null},N.extent=function(t){var n,e,r,a,i;return arguments.length?(M&&(n=t[0],e=t[1],_&&(n=n[0],e=e[0]),y=[n,e],M.invert&&(n=M(n),e=M(e)),e<n&&(i=n,n=e,e=i),n==w[0]&&e==w[1]||(w=[n,e])),_&&(r=t[0],a=t[1],M&&(r=r[1],a=a[1]),m=[r,a],_.invert&&(r=_(r),a=_(a)),a<r&&(i=r,r=a,a=i),r==k[0]&&a==k[1]||(k=[r,a])),N):(M&&(y?(n=y[0],e=y[1]):(n=w[0],e=w[1],M.invert&&(n=M.invert(n),e=M.invert(e)),e<n&&(i=n,n=e,e=i))),_&&(m?(r=m[0],a=m[1]):(r=k[0],a=k[1],_.invert&&(r=_.invert(r),a=_.invert(a)),a<r&&(i=r,r=a,a=i))),M&&_?[[n,r],[e,a]]:M?[n,e]:_&&[r,a])},N.clear=function(){return N.empty()||(w=[0,0],k=[0,0],y=m=null),N},N.empty=function(){return!!M&&w[0]==w[1]||!!_&&k[0]==k[1]},L.rebind(N,x,"on")};var Do={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Po=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],jo=Cn.format=ae.timeFormat,Oo=jo.utc,Ho=Oo("%Y-%m-%dT%H:%M:%S.%LZ");function Uo(t){return t.toISOString()}function Vo(n,a,t){function u(t){return n(t)}function o(t,n){var e=(t[1]-t[0])/n,r=L.bisect(Yo,e);return r==Yo.length?[a.year,Ru(t.map(function(t){return t/31536e6}),n)[2]]:r?a[e/Yo[r-1]<Yo[r]/e?r-1:r]:[Bo,Ru(t,n)[2]]}return u.invert=function(t){return Fo(n.invert(t))},u.domain=function(t){return arguments.length?(n.domain(t),u):n.domain().map(Fo)},u.nice=function(n,e){var t=u.domain(),r=Eu(t),a=null==n?o(r,10):"number"==typeof n&&o(r,n);function i(t){return!isNaN(t)&&!n.range(t,Fo(+t+1),e).length}return a&&(n=a[0],e=a[1]),u.domain(Cu(t,1<e?{floor:function(t){for(;i(t=n.floor(t));)t=Fo(t-1);return t},ceil:function(t){for(;i(t=n.ceil(t));)t=Fo(+t+1);return t}}:n))},u.ticks=function(t,n){var e=Eu(u.domain()),r=null==t?o(e,10):"number"==typeof t?o(e,t):!t.range&&[{range:t},n];return r&&(t=r[0],n=r[1]),t.range(e[0],Fo(+e[1]+1),n<1?1:n)},u.tickFormat=function(){return t},u.copy=function(){return Vo(n.copy(),a,t)},qu(u,n)}function Fo(t){return new Date(t)}jo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Uo:Ho,Uo.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Uo.toString=Ho.toString,Cn.second=Tn(function(t){return new zn(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),Cn.seconds=Cn.second.range,Cn.seconds.utc=Cn.second.utc.range,Cn.minute=Tn(function(t){return new zn(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),Cn.minutes=Cn.minute.range,Cn.minutes.utc=Cn.minute.utc.range,Cn.hour=Tn(function(t){var n=t.getTimezoneOffset()/60;return new zn(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),Cn.hours=Cn.hour.range,Cn.hours.utc=Cn.hour.utc.range,Cn.month=Tn(function(t){return(t=Cn.day(t)).setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),Cn.months=Cn.month.range,Cn.months.utc=Cn.month.utc.range;var Yo=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Io=[[Cn.second,1],[Cn.second,5],[Cn.second,15],[Cn.second,30],[Cn.minute,1],[Cn.minute,5],[Cn.minute,15],[Cn.minute,30],[Cn.hour,1],[Cn.hour,3],[Cn.hour,6],[Cn.hour,12],[Cn.day,1],[Cn.day,2],[Cn.week,1],[Cn.month,1],[Cn.month,3],[Cn.year,1]],Zo=jo.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",lr]]),Bo={range:function(t,n,e){return L.range(+t,+n,e).map(Fo)},floor:hn,ceil:hn};Io.year=Cn.year,Cn.scale=function(){return Vo(L.scale.linear(),Io,Zo)};var Go=Io.map(function(t){return[t[0].utc,t[1]]}),Xo=Oo.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",lr]]);function $o(t){return JSON.parse(t.responseText)}function Wo(t){var n=r.createRange();return n.selectNode(r.body),n.createContextualFragment(t.responseText)}Go.year=Cn.year.utc,Cn.scale.utc=function(){return Vo(L.scale.linear(),Go,Xo)},L.text=dn(function(t){return t.responseText}),L.json=function(t,n){return gn(t,"application/json",$o,n)},L.html=function(t,n){return gn(t,"text/html",Wo,n)},L.xml=dn(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(L):"object"==typeof module&&module.exports?module.exports=L:this.d3=L}();var colorbrewer={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},tw={data:{}};!function(u,o){"use strict";function i(t,n,e){function r(t){t&&a.indexOf(t)<0&&a.push(t)}var a=[];return r(t),r(n),r(e),a.join(" ")}function n(){var t,n=o("#city").val(),e=o("#district").val(),r=o("#streetZone").val(),a=r?r.substr(0,r.indexOf("|")):"";o(".results").toggle(h),o(".choose-location").toggle(!h),o("body").toggleClass("state-1",!h),!h||(t=i(n,e,a))!==l&&(l=t,(c=u.data.zones[l])&&(o(".zone-id").text(l),o(".zone-data-year").text(c.year),o(".zone-description").html(c.description),o(".zone-about").toggle(!(!c.year&&!c.description)),o(".zone-year-container").toggle(!!c.year)),p(),o(".nav-li-main").removeClass("disabled"),g.forEach(function(t){c[t]||o('a[data-toggle="tab"][data-attribute="'+t+'"]').parent().addClass("disabled")}))}function e(t,n){var e=n?'<option value="">Bitte auswÃ¤hlen</option>':"";return t.forEach(function(t){e+='<option value="'+t+'">'+t+"</option>"}),e}function r(){var t=o("#city").val(),n=t?Object.keys(u.data.locations[t]):[];n.length<2?(o(".select-district").hide(),o(".district").html("")):(o(".district").html(e(n)),o(".select-district").show()),b()}function f(t,n){return(t=(t=(t=(t=(t=t.toLowerCase()).replace(/Ã¤/g,"a")).replace(/Ã¶/g,"o")).replace(/Ã¼/g,"u")).replace(/Ã/g,"s"))==(n=(n=(n=(n=(n=n.toLowerCase()).replace(/Ã¤/g,"a")).replace(/Ã¶/g,"o")).replace(/Ã¼/g,"u")).replace(/Ã/g,"s"))?0:n<t?1:-1}function a(t){t.preventDefault(),h=!!o("#city").val(),n()}function t(){function t(t){n.find("."+t).on("change",function(){o("#"+t).val(o(this).val()).trigger("change")}),o("#"+t).on("change",function(){n.find("."+t).val(o(this).val())})}var n=o(".form-choose-location-quick");t("city"),t("district"),t("streetZone"),n.on("change",a)}var c={},l="",s=null,h=!1,d="explanation",g=["natrium","kalium","calcium","magnesium","chlorid","nitrat","sulfat"],p=function(){"info"===s?(o(".result-with-value, .result-without-value").hide(),o(".info-container").show()):(o(".info-container").hide(),c&&c[s]?(o(".result-without-value").hide(),o(".result-with-value").show(),u.gauge.update(s),"explanation"===d&&u.gauge.updateValue(s,c[s],c),"compare"===d&&u.comparison.update(s,c[s]),"map"===d&&u.map.update(s)):(o(".result-with-value").hide(),o(".result-without-value").show()))},b=function(){var e,r,t,n=o("#city").val(),a=(a=o("#district").val())||"",i=n?u.data.locations[n][a]:{};!i||Object.keys(i).length<=0?(o(".select-street").hide(),o(".streetZone").html("")):(e="","Heilbronn"===n?(r={},Object.keys(i).forEach(function(n){i[n].forEach(function(t){r[t]=n})}),(t=Object.keys(r)).sort(f),t.forEach(function(t){e+='<option value="'+r[t]+"|"+t+'">'+t+"</option>"})):Object.keys(i).forEach(function(n){e+='<optgroup label="'+n+'">',i[n].forEach(function(t){e+='<option value="'+n+"|"+t+'">'+t+"</option>"}),e+="</optgroup>"}),o(".streetZone").html(e),o(".select-street").show())},v=function(){o(".section").hide(),o(".section-"+d).show(),o("body").scrollTop()>o(".result-with-value").offset().top&&o("body").scrollTop(o(".result-with-value").offset().top)};u.init=function(){Object.keys(u.data.referenceWaters).forEach(function(t){var n=u.data.referenceWaters[t];n.hardness=Math.round(10*(.14*n.calcium+.23*n.magnesium))/10}),function(){o("#city").on("change",r),o("#district").on("change",b),o("#streetZone").on("change",n),o(".form-choose-location").on("submit",a);var t=Object.keys(u.data.locations);o(".city").html(e(t,!0))}(),t(),function(t){o('a[data-toggle="tab"]').on("shown.bs.tab",function(t){s=o(t.target).data("attribute"),o(".current-attribute-label").text(o(t.target).text()),d="explanation",v(),p()});var n=o('a[data-attribute="'+t+'"]');n.addClass("active").closest(".nav-link").addClass("active"),o(".current-attribute-label").text(n.text()),s=t}("natrium"),o(".switch-to-section").on("click",function(){d=o(this).data("section"),v(),p()}),u.gauge.init(),u.comparison.init(),u.map.init(),window.location.href.indexOf("embed")<0&&o("h1").show()}}(tw,jQuery),function(){"use strict";function e(t){return-1<t.toString().indexOf("-")}function r(t){var n=t.indexOf("-");return[parseInt(t.substr(0,n),10),parseInt(t.substr(n+1),10)]}tw.utils={isRange:e,getRange:r,getMeanValue:function(t){if(!t||!e(t))return t;var n=r(t);return n[0]+(n[1]-n[0])/2},returnArgument:function(t){return t}}}(jQuery),tw.data.referenceWaters={wueteria:{natrium:10.7,kalium:2.6,calcium:118,magnesium:48,chlorid:43,nitrat:.05,sulfat:68,sources:["http://www.wueteria.de/unser_wasser/index.php"]},teusser:{natrium:53,kalium:8,calcium:565,magnesium:82,chlorid:27,nitrat:.5,sulfat:1450,sources:["http://www.teusser.de/index.php?id=225"]},volvic:{natrium:11.6,kalium:6.2,calcium:11.5,magnesium:8,chlorid:13.5,nitrat:6.9,sulfat:8.1,sources:["http://books.google.de/books?id=lzEoGWyqMBwC&pg=PA198&lpg=PA198&dq=volvic+nitratgehalt&source=bl&ots=pJEE0i9HwK&sig=OI_PeSr_QGBCfpeVCu70N4ohy8g&hl=de&ei=4-yvSuHrJ8jK_gbV0p3ZDA&sa=X&oi=book_result&ct=result&resnum=6#v=onepage&q&f=false"]},vittel:{natrium:7.7,kalium:5.2,calcium:94,magnesium:20,chlorid:3.8,nitrat:.1,sulfat:120,sources:["http://books.google.de/books?id=lzEoGWyqMBwC&pg=PA198&lpg=PA198&dq=volvic+nitratgehalt&source=bl&ots=pJEE0i9HwK&sig=OI_PeSr_QGBCfpeVCu70N4ohy8g&hl=de&ei=4-yvSuHrJ8jK_gbV0p3ZDA&sa=X&oi=book_result&ct=result&resnum=6#v=onepage&q&f=false"]}},tw.data.nutrientDailyDosis={kalium:"~ 2000 mg",calcium:"~ 1000 mg",magnesium:"~ 350 mg"},function(d,c){"use strict";function t(r){function n(t){var n=t/20;return 822-Math.round(602*n)-2}function t(t){return t%5==0?68:48}function e(t){return n(t/(i/4)*5)+6}function a(){function t(t){t.text(function(t){return t}).attr("x",78).attr("y",e).attr("text-anchor","start")}var n=r.select(".gauge-lines").selectAll("text").data(o);t(n),t(n.enter().append("text")),n.exit().remove()}var i=0,u=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],o=[];function l(t){return 822-h(t)}function s(t,n,e){r.select(t).transition().duration(300).ease("outCirc").attr("y",function(){return n}).attr("height",e)}this.applyAttribute=function(t){var n,e;return i=g[t],function(){o=[];for(var t=1;t<5;t++)o.push(i/4*t)}(),a(),n=t,e=h(d.data.averageValues[n]),r.select(".average-indicator").transition().duration(300).ease("outCirc").attr("y1",e).attr("y2",e),this};var f,h=function(t){var n=t<1?0:t/i;return 822-Math.round(602*n)-1};this.applyValue=function(t){var n,e,r,a,i,u,o,f=t,c=0;return d.utils.isRange(t)&&(f=(n=d.utils.getRange(t))[0],c=n[1]),e=f,r=c,a=l(Math.max(e,r)),i=h(0),u=e<r?r-e:0,a<(o=123<=a?123:17)?(s(".gauge-value-bubble-cut",i,0),s(".gauge-value",i,a)):(s(".gauge-value-bubble-cut",i-o,o),s(".gauge-value",i-a,a-o+1)),s(".gauge-value-2",h(r)-1,l(u)),this},this.getValueLabel=function(){return""},this.show=function(){return c.selectAll(".gauge-glass-container").attr("style",""),this},this.hide=function(){return c.selectAll(".gauge-glass-container").attr("style","display:none;"),this},(f=r.select(".gauge-lines").selectAll("line").data(u).enter().append("line")).attr("x1",36).attr("x2",t),f.attr("y1",n).attr("y2",n)}function n(i){function n(){function n(t){return t.width/2+t.x}function t(t){t.attr("x",n).attr("y",20).attr("text-anchor","middle").html(function(t){return'<tspan x="'+n(t)+'">'+t.rangeLabel+'</tspan><tspan x="'+n(t)+'" dy="1.3em" style="font-weight:bold;">'+t.label+"</tspan>"})}var e=i.select(".gauge-bar-labels").selectAll("text").data(a[r].parts);t(e),t(e.enter().append("text")),e.exit().remove()}function e(){function t(t){t.attr("x",function(t){return t.x}).attr("width",function(t){return t.width}).attr("class",function(t){return"gauge-bar-"+t.id}).attr("y",64).attr("height",40)}var n=i.select(".gauge-bars").selectAll("rect").data(a[r].parts);t(n),t(n.enter().append("rect")),n.exit().remove()}var r="hardness",u=0,a={hardness:{min:0,max:28,parts:[{id:1,x:0,width:225,label:"weich",rangeLabel:"&lt; 8,4 Â°dH"},{id:2,x:225,width:150,label:"mittel",rangeLabel:"8,4 - 14 Â°dH"},{id:3,x:375,width:375,label:"hart",rangeLabel:"&gt; 14 Â°dH"}]}};function o(t){return 750/(a[r].max-a[r].min)*t}this.applyAttribute=function(t){return r=t,e(),n(),this},this.applyValue=function(t){return u=t,i.select(".gauge-bar-ball").transition().duration(300).ease("outCirc").attr("cx",o(d.utils.getMeanValue(u))),function(){var t,n=u,e=u;d.utils.isRange(u)&&(n=(t=d.utils.getRange(u))[0],e=t[1]);var r=o(n),a=o(e);i.select(".gauge-bar-range-indicator").attr("x",r).attr("width",a-r)}(),this},this.getValueLabel=function(t){if("hardness"===r&&21.3<t)return"(sehr) hart";var n={},e=o(d.utils.getMeanValue(t));return a[r].parts.forEach(function(t){t.x<=e&&t.x+t.width>e&&(n=t)}),n.label},this.show=function(){return c.selectAll(".gauge-bar-container").attr("style",""),this},this.hide=function(){return c.selectAll(".gauge-bar-container").attr("style","display:none;"),this}}var g={natrium:200,kalium:12,calcium:400,magnesium:60,chlorid:240,nitrat:60,sulfat:240},a={natrium:"200 mg/l",kalium:"-",calcium:"-",magnesium:"-",chlorid:"250 mg/l",nitrat:"50 mg/l",sulfat:"250 mg/l"},o=null,f=null;d.gauge={init:function(){return o=new t(c.select(".gauge-glass-img")),f=new n(c.select(".gauge-bar-img")),this},update:function(t){var n,e=o,r=f;"hardness"===t&&(e=f,r=o),r.hide(),e.show().applyAttribute(t),n=t,c.selectAll(".attribute-description").attr("style","display:none;"),c.selectAll(".attribute-description-"+n).attr("style",""),c.selectAll(".gauge-legal-limit").text(a[n]),c.selectAll(".gauge-daily-dosis").text(d.data.nutrientDailyDosis[n]),c.selectAll(".gauge-daily-dosis-container").attr("style",d.data.nutrientDailyDosis[n]?"":"display:none;"),c.selectAll(".gauge-average-value").text(d.data.averageValues[n].toString().replace(/\./g,","))},updateValue:function(t,n,e){var r,a,i,u;"hardness"===t?(r=f,u="n/a",e.magnesium&&e.calcium&&n&&(a=d.utils.getMeanValue(e.magnesium)/4.34/7+d.utils.getMeanValue(e.calcium)/7.15/3.5,i=d.utils.getMeanValue(n)-a,u=Math.round(100*(i-a))/100),c.selectAll(".gauge-value-ra").text(u.toString().replace(/\./g,","))):r=o,r.applyValue(n),c.selectAll(".gauge-value").text(n.toString().replace(/\./g,",")),c.selectAll(".gauge-value-label").text(r.getValueLabel(n))}}}(tw,d3),function(h,e){"use strict";function t(i){function n(t){var n=t/20;return 819-Math.round(554*n)-2}function t(t){return t%5==0?68:48}function e(t){return n(t/(a/4)*5)+6}function r(){function t(t){t.text(function(t){return t}).attr("x",78).attr("y",e).attr("text-anchor","start")}var n=i.select(".gauge-lines").selectAll("text").data(o);t(n),t(n.enter().append("text")),n.exit().remove()}var a=0,u=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],o=[];function f(t,n,e,r){var a=i.select(t);r&&(a=a.transition().duration(300).ease("outCirc")),a.attr("y",function(){return n}).attr("height",e)}function c(t){var n=819-s(t),e=s(0);150<n?(f(".gauge-value-bubble-cut",e-150,150,!0),f(".gauge-value",e-n,n-150+1,!0)):(f(".gauge-value-bubble-cut",e-n,n,!0),f(".gauge-value",e-n,0,!0))}this.updateIndicator=function(t){var n=s(t);i.select(".average-indicator").transition().duration(300).ease("outCirc").attr("y1",n).attr("y2",n)},this.applyAttribute=function(t){return a=d[t],function(){o=[];for(var t=1;t<5;t++)o.push(a/4*t)}(),r(),i.select(".gauge-unit").text(g()),this};var l,s=function(t){var n=t<1?0:t/a;return 819-Math.round(554*n)-1};this.applyValue=function(t){return c(h.utils.getMeanValue(t)),this},this.getValueLabel=function(){return""},(l=i.select(".gauge-lines").selectAll("line").data(u).enter().append("line")).attr("x1",36).attr("x2",t),l.attr("y1",n).attr("y2",n)}function r(){return"self"===o?l:h.data.referenceWaters[o][c]}function a(t){return t?t.toString().replace(/\./g,","):"-"}function i(){e.selectAll(".comparison-water-value").text(a(h.utils.getMeanValue(r()))+" "+g()),e.selectAll(".comparison-water-label").text(f)}function n(){e.select(".compare-nav").selectAll("button").classed("active",!1);var t=e.select(this);t.classed("active",!0),o=t.attr("data-water"),f=t.text(),i(),u.applyValue(r())}var d={hardness:180,natrium:120,kalium:12,calcium:600,magnesium:120,chlorid:240,nitrat:60,sulfat:1600},u=null,o="volvic",f="Volvic",c=null,l=null,g=function(){return"hardness"===c?"Â°dH":"mg/l"};h.comparison={init:function(){return u=new t(e.select(".bottle-img")),e.select(".compare-nav").selectAll("button").on("click",n),this},update:function(t,n){c=t,l=h.utils.getMeanValue(n),u.applyAttribute(c),u.updateIndicator(l),e.selectAll(".comparison-water-value-self").text(a(l)+" "+g()),o&&(u.applyValue(r()),i())}}}(tw,d3),function(s,h){"use strict";function n(t){var n=[9.171,49.16],e=[585,585],r=h.geo.mercator().scale(400).center(n).translate(e),a=(f=h.geo.path().projection(r)).bounds(d),i=468e3/(a[1][0]-a[0][0]),u=468e3/(a[1][1]-a[0][1]),o=i<u?i:u,e=[1170-(a[0][0]+a[1][0])/2,1170-(a[0][1]+a[1][1])/2],r=h.geo.mercator().center(n).scale(o).translate(e),f=f.projection(r);t.select(".areas").selectAll("path").data(d.features).enter().append("path").attr("d",f);var c=h.scale.linear().domain([9,16]).range(["#2166ac","#b2182b"]);t.select(".zones").selectAll("path").data(g.features).enter().append("path").attr("d",f).attr("stroke",function(t){return c(s.utils.getMeanValue(t.properties.haertegrad))});var l={"14-18":s.data.zones["Heilbronn 14-18"],14:s.data.zones["Heilbronn 14"],10:s.data.zones["Heilbronn 10"],9:s.data.zones["Heilbronn 9"]};this.update=function(e){var n=[];Object.keys(l).forEach(function(t){n.push(s.utils.getMeanValue(l[t][e]))}),c=h.scale.linear().domain([h.min(n),h.max(n)]).range(["#2166ac","#b2182b"]),t.select(".zones").selectAll("path").transition().duration(300).ease("outCirc").attr("stroke",function(t){var n=l[t.properties.haertegrad];if(n)return c(s.utils.getMeanValue(n[e]))})}}var d=null,g=null,e=null;s.map={init:function(){return $.getJSON("data/gemeinden_simplify20_hn.geojson").done(function(t){d=t,$.getJSON("data/hn-streets.geojson",function(t){g=t,e=new n(h.select(".map-img"))})}),this},update:function(t){e&&e.update(t)}}}(tw,d3);